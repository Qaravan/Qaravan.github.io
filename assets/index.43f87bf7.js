import{g as Gr,i as ht,r as Na,c as ne,b as Oi,t as Cd,a as Id}from"./index.d40c1c9a.js";import{e as Ni,b as Ad,i as kd}from"./index.6d356057.js";function Md(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ba={},wn={},Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.walletLogo=void 0;const Rd=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Bi.walletLogo=Rd;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.ScopedLocalStorage=void 0;class Td{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Li.ScopedLocalStorage=Td;var Br={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});const Od=Ni.exports;function Mc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Nd(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class Bd extends Od.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Mc(s,this,r);else{const o=s.length,a=Nd(s);for(let u=0;u<o;u+=1)Mc(a[u],this,r)}return!0}}Qr.default=Bd;var Pi={},Yt={},ml=Sn;Sn.default=Sn;Sn.stable=Sl;Sn.stableStringify=Sl;var yi="[...]",_l="[Circular]",dr=[],lr=[];function wl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Sn(t,e,r,n){typeof n>"u"&&(n=wl()),ca(t,"",0,[],void 0,0,n);var i;try{lr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,El(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;dr.length!==0;){var s=dr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Mr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),dr.push([n,r,e,i])):lr.push([e,r,t]):(n[r]=t,dr.push([n,r,e]))}function ca(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Mr(_l,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Mr(yi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Mr(yi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ca(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var f=u[a];ca(t[f],f,a,n,t,s,o)}}n.pop()}}function Ld(t,e){return t<e?-1:t>e?1:0}function Sl(t,e,r,n){typeof n>"u"&&(n=wl());var i=ua(t,"",0,[],void 0,0,n)||t,s;try{lr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,El(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;dr.length!==0;){var o=dr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ua(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Mr(_l,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Mr(yi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Mr(yi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ua(t[a],a,a,n,t,s,o);else{var u={},f=Object.keys(t).sort(Ld);for(a=0;a<f.length;a++){var h=f[a];ua(t[h],h,a,n,t,s,o),u[h]=t[h]}if(typeof i<"u")dr.push([i,e,t]),i[e]=u;else return u}n.pop()}}function El(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(lr.length>0)for(var n=0;n<lr.length;n++){var i=lr[n];if(i[1]===e&&i[0]===r){r=i[2],lr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Yt,"__esModule",{value:!0});Yt.EthereumProviderError=Yt.EthereumRpcError=void 0;const Pd=ml;class xl extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Pd.default(this.serialize(),Fd,2)}}Yt.EthereumRpcError=xl;class Dd extends xl{constructor(e,r,n){if(!jd(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Yt.EthereumProviderError=Dd;function jd(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Fd(t,e){if(e!=="[Circular]")return e}var La={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.errorValues=Kt.errorCodes=void 0;Kt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Kt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Kt,r=Yt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(p,v=i){if(Number.isInteger(p)){const w=p.toString();if(_(e.errorValues,w))return e.errorValues[w].message;if(f(p))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return v}t.getMessageFromCode=o;function a(p){if(!Number.isInteger(p))return!1;const v=p.toString();return!!(e.errorValues[v]||f(p))}t.isValidCode=a;function u(p,{fallbackError:v=s,shouldIncludeStack:w=!1}={}){var M,O;if(!v||!Number.isInteger(v.code)||typeof v.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(p instanceof r.EthereumRpcError)return p.serialize();const m={};if(p&&typeof p=="object"&&!Array.isArray(p)&&_(p,"code")&&a(p.code)){const A=p;m.code=A.code,A.message&&typeof A.message=="string"?(m.message=A.message,_(A,"data")&&(m.data=A.data)):(m.message=o(m.code),m.data={originalError:h(p)})}else{m.code=v.code;const A=(M=p)===null||M===void 0?void 0:M.message;m.message=A&&typeof A=="string"?A:v.message,m.data={originalError:h(p)}}const S=(O=p)===null||O===void 0?void 0:O.stack;return w&&p&&S&&typeof S=="string"&&(m.stack=S),m}t.serializeError=u;function f(p){return p>=-32099&&p<=-32e3}function h(p){return p&&typeof p=="object"&&!Array.isArray(p)?Object.assign({},p):p}function _(p,v){return Object.prototype.hasOwnProperty.call(p,v)}})(La);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.ethErrors=void 0;const Pa=Yt,Cl=La,Ve=Kt;Di.ethErrors={rpc:{parse:t=>st(Ve.errorCodes.rpc.parse,t),invalidRequest:t=>st(Ve.errorCodes.rpc.invalidRequest,t),invalidParams:t=>st(Ve.errorCodes.rpc.invalidParams,t),methodNotFound:t=>st(Ve.errorCodes.rpc.methodNotFound,t),internal:t=>st(Ve.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return st(e,t)},invalidInput:t=>st(Ve.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>st(Ve.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>st(Ve.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>st(Ve.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>st(Ve.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>st(Ve.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>on(Ve.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>on(Ve.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>on(Ve.errorCodes.provider.unsupportedMethod,t),disconnected:t=>on(Ve.errorCodes.provider.disconnected,t),chainDisconnected:t=>on(Ve.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Pa.EthereumProviderError(e,r,n)}}};function st(t,e){const[r,n]=Il(e);return new Pa.EthereumRpcError(t,r||Cl.getMessageFromCode(t),n)}function on(t,e){const[r,n]=Il(e);return new Pa.EthereumProviderError(t,r||Cl.getMessageFromCode(t),n)}function Il(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Yt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=La;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Di;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Kt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Pi);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.EVENTS=void 0;Zr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Yr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var la=function(t,e){return la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},la(t,e)};function D(t,e){la(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Lr(t){return typeof t=="function"}var Rc=!1,ct={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Rc=t},get useDeprecatedSynchronousErrorHandling(){return Rc}};function Ir(t){setTimeout(function(){throw t},0)}var gi={closed:!0,next:function(t){},error:function(t){if(ct.useDeprecatedSynchronousErrorHandling)throw t;Ir(t)},complete:function(){}},Je=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Da(t){return t!==null&&typeof t=="object"}var $d=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),dn=$d,Ae=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var u=n[a];u.remove(this)}if(Lr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(_){e=_ instanceof dn?Tc(_.errors):[_]}}if(Je(o))for(var a=-1,f=o.length;++a<f;){var h=o[a];if(Da(h))try{h.unsubscribe()}catch(p){e=e||[],p instanceof dn?e=e.concat(Tc(p.errors)):e.push(p)}}if(e)throw new dn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Tc(t){return t.reduce(function(e,r){return e.concat(r instanceof dn?r.errors:r)},[])}var vi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Q=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=gi;break;case 1:if(!r){s.destination=gi;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Oc(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Oc(s,r,n,i);break}return s}return e.prototype[vi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Ae),Oc=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,u=o;return Lr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==gi&&(u=Object.create(n),Lr(u.unsubscribe)&&o.add(u.unsubscribe.bind(u)),u.unsubscribe=o.unsubscribe.bind(o))),o._context=u,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!ct.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=ct.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Ir(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Ir(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!ct.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),ct.useDeprecatedSynchronousErrorHandling)throw i;Ir(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!ct.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return ct.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Ir(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Q);function ja(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Q?t=n:t=null}return!0}function Ud(t,e,r){if(t){if(t instanceof Q)return t;if(t[vi])return t[vi]()}return!t&&!e&&!r?new Q(gi):new Q(t,e,r)}var Kr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Jt(t){return t}function fa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Al(t)}function Al(t){return t.length===0?Jt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var se=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=Ud(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||ct.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),ct.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){ct.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ja(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Nc(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Kr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Al(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Nc(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Nc(t){if(t||(t=ct.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Wd=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),qt=Wd,kl=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Ae),Ml=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(Q),$e=function(t){D(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[vi]=function(){return new Ml(this)},e.prototype.lift=function(r){var n=new Bc(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new qt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new qt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new qt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new qt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new qt;return this.hasError?(r.error(this.thrownError),Ae.EMPTY):this.isStopped?(r.complete(),Ae.EMPTY):(this.observers.push(r),new kl(this,r))},e.prototype.asObservable=function(){var r=new se;return r.source=this,r},e.create=function(r,n){return new Bc(r,n)},e}(se),Bc=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Ae.EMPTY},e}($e);function Fa(){return function(e){return e.lift(new Hd(e))}}var Hd=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Vd(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),Vd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(Q),Rl=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ae,r.add(this.source.subscribe(new qd(this.getSubject(),this))),r.closed&&(this._connection=null,r=Ae.EMPTY)),r},e.prototype.refCount=function(){return Fa()(this)},e}(se),zd=function(){var t=Rl.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),qd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Ml);function Gd(t,e,r,n){return function(i){return i.lift(new Qd(t,e,r,n))}}var Qd=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new Zd(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Zd=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(f){this.error(f)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new $e,i.set(n,s);var a=new ha(n,s,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new ha(n,s))}catch(f){this.error(f);return}this.add(u.subscribe(new Yd(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(Q),Yd=function(t){D(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Q),ha=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Ae,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new Kd(s)),n.add(o.subscribe(r)),n},e}(se),Kd=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Ae),Tl=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}($e),Jd=function(t){D(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Ae),Mn=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Jd),Xd=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Mn),da=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Rn=function(t){D(e,t);function e(r,n){n===void 0&&(n=da.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(da),ep=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Rn),Ol=new ep(Xd),Nl=Ol,Pr=new se(function(t){return t.complete()});function Jr(t){return t?tp(t):Pr}function tp(t){return new se(function(e){return t.schedule(function(){return e.complete()})})}function nt(t){return t&&typeof t.schedule=="function"}var Bl=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function $a(t,e){return new se(function(r){var n=new Ae,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Tn(t,e){return e?$a(t,e):new se(Bl(t))}function ji(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return nt(r)?(t.pop(),$a(t,r)):Tn(t)}function Ua(t,e){return e?new se(function(r){return e.schedule(rp,0,{error:t,subscriber:r})}):new se(function(r){return r.error(t)})}function rp(t){var e=t.error,r=t.subscriber;r.error(e)}var pa;pa||(pa={});var Pt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ji(this.value);case"E":return Ua(this.error);case"C":return Jr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function np(t,e){return e===void 0&&(e=0),function(n){return n.lift(new ip(t,e))}}var ip=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Ll(e,this.scheduler,this.delay))},t}(),Ll=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new sp(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Pt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Pt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Pt.createComplete()),this.unsubscribe()},e}(Q),sp=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Wa=function(t){D(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new op(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new qt;if(this.isStopped||this.hasError?a=Ae.EMPTY:(this.observers.push(r),a=new kl(this,r)),s&&r.add(r=new Ll(r,s)),n)for(var u=0;u<o&&!r.closed;u++)r.next(i[u]);else for(var u=0;u<o&&!r.closed;u++)r.next(i[u].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Nl).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}($e),op=function(){function t(e,r){this.time=e,this.value=r}return t}(),Xr=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Ae.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Ae.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}($e),ap=1,cp=function(){return Promise.resolve()}(),ba={};function Lc(t){return t in ba?(delete ba[t],!0):!1}var Pc={setImmediate:function(t){var e=ap++;return ba[e]=!0,cp.then(function(){return Lc(e)&&t()}),e},clearImmediate:function(t){Lc(t)}},up=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Pc.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Pc.clearImmediate(n),r.scheduled=void 0)},e}(Mn),lp=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Rn),Pl=new lp(up),ai=Pl,Dl=new Rn(Mn),Xe=Dl,fp=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Mn),hp=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Rn),jl=new hp(fp),dp=jl,pp=function(t){D(e,t);function e(r,n){r===void 0&&(r=Fl),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Rn),Fl=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Mn);function Ct(){}function bp(t){return!!t&&(t instanceof se||typeof t.lift=="function"&&typeof t.subscribe=="function")}var yp=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Dr=yp,gp=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),On=gp,vp=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),$l=vp;function dt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new mp(t,e))}}var mp=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new _p(e,this.project,this.thisArg))},t}(),_p=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Q);function Ul(t,e,r){if(e)if(nt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ul(t,r).apply(void 0,n).pipe(dt(function(s){return Je(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new se(function(u){if(r){var h={args:n,subscriber:u,params:a};return r.schedule(wp,0,h)}else{if(!o){o=new Xr;var f=function(){for(var _=[],p=0;p<arguments.length;p++)_[p]=arguments[p];o.next(_.length<=1?_[0]:_),o.complete()};try{t.apply(s,n.concat([f]))}catch(_){ja(o)?o.error(_):console.warn(_)}}return o.subscribe(u)}})}}function wp(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new Xr;var f=function(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];var p=h.length<=1?h[0]:h;e.add(a.schedule(Sp,0,{value:p,subject:u}))};try{s.apply(o,r.concat([f]))}catch(h){u.error(h)}}this.add(u.subscribe(n))}function Sp(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Wl(t,e,r){if(e)if(nt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Wl(t,r).apply(void 0,n).pipe(dt(function(s){return Je(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new se(function(o){var a=s.context,u=s.subject;if(r)return r.schedule(Ep,0,{params:s,subscriber:o,context:a});if(!u){u=s.subject=new Xr;var f=function(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];var p=h.shift();if(p){u.error(p);return}u.next(h.length<=1?h[0]:h),u.complete()};try{t.apply(a,n.concat([f]))}catch(h){ja(u)?u.error(h):console.warn(h)}}return u.subscribe(o)})}}function Ep(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new Xr;var f=function(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];var p=h.shift();if(p)e.add(a.schedule(Dc,0,{err:p,subject:u}));else{var v=h.length<=1?h[0]:h;e.add(a.schedule(xp,0,{value:v,subject:u}))}};try{s.apply(i,o.concat([f]))}catch(h){this.add(a.schedule(Dc,0,{err:h,subject:u}))}}this.add(u.subscribe(n))}function xp(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Dc(t){var e=t.err,r=t.subject;r.error(e)}var gr=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Q),Cp=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Q),Ip=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Ir),e}};function Ap(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xt=Ap(),kp=function(t){return function(e){var r=t[Xt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Mp=function(t){return function(e){var r=t[Kr]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Hl=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Vl(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var En=function(t){if(!!t&&typeof t[Kr]=="function")return Mp(t);if(Hl(t))return Bl(t);if(Vl(t))return Ip(t);if(!!t&&typeof t[Xt]=="function")return kp(t);var e=Da(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Dt(t,e,r,n,i){if(i===void 0&&(i=new Cp(t,r,n)),!i.closed)return e instanceof se?e.subscribe(i):En(e)(i)}var jc={};function Rp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return nt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Je(t[0])&&(t=t[0]),Tn(t,n).lift(new Ha(r))}var Ha=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Tp(e,this.resultSelector))},t}(),Tp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(jc),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Dt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===jc?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(gr);function Op(t,e){return new se(function(r){var n=new Ae;return n.add(e.schedule(function(){var i=t[Kr]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function Np(t,e){return new se(function(r){var n=new Ae;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function Bp(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(function(r){var n=new Ae,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Xt](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(u){r.error(u);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function Lp(t){return t&&typeof t[Kr]=="function"}function Pp(t){return t&&typeof t[Xt]=="function"}function zl(t,e){if(t!=null){if(Lp(t))return Op(t,e);if(Vl(t))return Np(t,e);if(Hl(t))return $a(t,e);if(Pp(t)||typeof t=="string")return Bp(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Ft(t,e){return e?zl(t,e):t instanceof se?t:new se(En(t))}var ke=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Q),Me=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Q);function Re(t,e){if(!e.closed){if(t instanceof se)return t.subscribe(e);var r;try{r=En(t)(e)}catch(n){e.error(n)}return r}}function pr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(pr(function(i,s){return Ft(t(i,s)).pipe(dt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new Dp(t,r))})}var Dp=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new jp(e,this.project,this.concurrent))},t}(),jp=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ke(this),i=this.destination;i.add(n);var s=Re(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Me),Fp=pr;function Va(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),pr(Jt,t)}function ql(){return Va(1)}function xn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ql()(ji.apply(void 0,t))}function za(t){return new se(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Ft(r):Jr();return n.subscribe(e)})}function $p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Je(r))return Yn(r,null);if(Da(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Yn(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Je(t[0])?t[0]:t,Yn(t,null).pipe(dt(function(s){return i.apply(void 0,s)}))}return Yn(t,null)}function Yn(t,e){return new se(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(f){var h=Ft(t[f]),_=!1;r.add(h.subscribe({next:function(p){_||(_=!0,o++),i[f]=p},error:function(p){return r.error(p)},complete:function(){s++,(s===n||!_)&&(o===n&&r.next(e?e.reduce(function(p,v,w){return p[v]=i[w],p},{}):i),r.complete())}}))},u=0;u<n;u++)a(u)})}function Gl(t,e,r,n){return Lr(r)&&(n=r,r=void 0),n?Gl(t,e,r).pipe(dt(function(i){return Je(i)?n.apply(void 0,i):n(i)})):new se(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Ql(t,e,s,i,r)})}function Ql(t,e,r,n,i){var s;if(Hp(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(Wp(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(Up(t)){var u=t;t.addListener(e,r),s=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var f=0,h=t.length;f<h;f++)Ql(t[f],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function Up(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Wp(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function Hp(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Zl(t,e,r){return r?Zl(t,e).pipe(dt(function(n){return Je(n)?r.apply(void 0,n):r(n)})):new se(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!Lr(e))return function(){return e(i,s)}})}function Vp(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Jt,i=a.scheduler}else n===void 0||nt(n)?(o=t,s=Jt,i=n):(o=t,s=n);return new se(function(u){var f=o;if(i)return i.schedule(zp,0,{subscriber:u,iterate:r,condition:e,resultSelector:s,state:f});do{if(e){var h=void 0;try{h=e(f)}catch(p){u.error(p);return}if(!h){u.complete();break}}var _=void 0;try{_=s(f)}catch(p){u.error(p);return}if(u.next(_),u.closed)break;try{f=r(f)}catch(p){u.error(p);return}}while(!0)})}function zp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function qp(t,e,r){return e===void 0&&(e=Pr),r===void 0&&(r=Pr),za(function(){return t()?e:r})}function jr(t){return!Je(t)&&t-parseFloat(t)+1>=0}function Gp(t,e){return t===void 0&&(t=0),e===void 0&&(e=Xe),(!jr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Xe),new se(function(r){return r.add(e.schedule(Qp,t,{subscriber:r,counter:0,period:t})),r})}function Qp(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Yl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return nt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof se?t[0]:Va(r)(Tn(t,n))}var Kl=new se(Ct);function Zp(){return Kl}function ya(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Pr;var r=t[0],n=t.slice(1);return t.length===1&&Je(r)?ya.apply(void 0,r):new se(function(i){var s=function(){return i.add(ya.apply(void 0,n).subscribe(i))};return Ft(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Yp(t,e){return e?new se(function(r){var n=Object.keys(t),i=new Ae;return i.add(e.schedule(Kp,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new se(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function Kp(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Jl(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function er(t,e){return function(n){return n.lift(new Jp(t,e))}}var Jp=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Xp(e,this.predicate,this.thisArg))},t}(),Xp=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Q);function e0(t,e,r){return[er(e,r)(new se(En(t))),er(Jl(e,r))(new se(En(t)))]}function Xl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Je(t[0]))t=t[0];else return t[0];return Tn(t,void 0).lift(new t0)}var t0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new r0(e))},t}(),r0=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Dt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(gr);function n0(t,e,r){return t===void 0&&(t=0),new se(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(i0,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function i0(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function ef(t,e,r){t===void 0&&(t=0);var n=-1;return jr(e)?n=Number(e)<1&&1||Number(e):nt(e)&&(r=e),nt(r)||(r=Xe),new se(function(i){var s=jr(t)?t:+t-r.now();return r.schedule(s0,s,{index:0,period:n,subscriber:i})})}function s0(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function o0(t,e){return new se(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Ft(i):Pr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function tf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Tn(t,void 0).lift(new rf(r))}var rf=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new a0(e,this.resultSelector))},t}(),a0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Je(r)?n.push(new u0(r)):typeof r[Xt]=="function"?n.push(new c0(r[Xt]())):n.push(new l0(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,u=[],s=0;s<n;s++){var o=r[s],f=o.next();if(o.hasCompleted()&&(a=!0),f.done){i.complete();return}u.push(f.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Q),c0=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),u0=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Xt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),l0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Xt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Re(this.observable,new ke(this))},e}(Me);const f0=Object.freeze(Object.defineProperty({__proto__:null,Observable:se,ConnectableObservable:Rl,GroupedObservable:ha,observable:Kr,Subject:$e,BehaviorSubject:Tl,ReplaySubject:Wa,AsyncSubject:Xr,asap:ai,asapScheduler:Pl,async:Xe,asyncScheduler:Dl,queue:Nl,queueScheduler:Ol,animationFrame:dp,animationFrameScheduler:jl,VirtualTimeScheduler:pp,VirtualAction:Fl,Scheduler:da,Subscription:Ae,Subscriber:Q,Notification:Pt,get NotificationKind(){return pa},pipe:fa,noop:Ct,identity:Jt,isObservable:bp,ArgumentOutOfRangeError:Dr,EmptyError:On,ObjectUnsubscribedError:qt,UnsubscriptionError:dn,TimeoutError:$l,bindCallback:Ul,bindNodeCallback:Wl,combineLatest:Rp,concat:xn,defer:za,empty:Jr,forkJoin:$p,from:Ft,fromEvent:Gl,fromEventPattern:Zl,generate:Vp,iif:qp,interval:Gp,merge:Yl,never:Zp,of:ji,onErrorResumeNext:ya,pairs:Yp,partition:e0,race:Xl,range:n0,throwError:Ua,timer:ef,using:o0,zip:tf,scheduled:zl,EMPTY:Pr,NEVER:Kl,config:ct},Symbol.toStringTag,{value:"Module"})),en=Gr(f0);function nf(t){return function(r){return r.lift(new h0(t))}}var h0=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new d0(e,this.durationSelector))},t}(),d0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Re(n,new ke(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Me);function p0(t,e){return e===void 0&&(e=Xe),nf(function(){return ef(t,e)})}function b0(t){return function(r){return r.lift(new y0(t))}}var y0=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new g0(e,this.closingNotifier))},t}(),g0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Re(n,new ke(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Me);function v0(t,e){return e===void 0&&(e=null),function(n){return n.lift(new m0(t,e))}}var m0=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=_0:this.subscriberClass=w0}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),_0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(Q),w0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var u=o.length;u--;){var f=o[u];f.push(r),f.length===i&&(o.splice(u,1),this.destination.next(f))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(Q);function S0(t){var e=arguments.length,r=Xe;nt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new E0(t,n,i,r))}}var E0=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new C0(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),x0=function(){function t(){this.buffer=[]}return t}(),C0=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var f={subscriber:a,context:u,bufferTimeSpan:n};a.add(u.closeAction=o.schedule(Fc,n,f))}else{var h={subscriber:a,context:u},_={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(u.closeAction=o.schedule(sf,n,h)),a.add(o.schedule(I0,i,_))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],u=a.buffer;u.push(r),u.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Fc,i,s))}},e.prototype.openContext=function(){var r=new x0;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(Q);function Fc(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function I0(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(sf,r,{subscriber:n,context:s})),o.schedule(t,e))}function sf(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function A0(t,e){return function(n){return n.lift(new k0(t,e))}}var k0=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new M0(e,this.openings,this.closingSelector))},t}(),M0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Dt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Ae,o={buffer:i,subscription:s};n.push(o);var a=Dt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(gr);function R0(t){return function(e){return e.lift(new T0(t))}}var T0=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new O0(e,this.closingSelector))},t}(),O0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Ae,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Re(i,new ke(this))),this.subscribing=!1},e}(Me);function N0(t){return function(r){var n=new B0(t),i=r.lift(n);return n.caught=i}}var B0=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new L0(e,this.selector,this.caught))},t}(),L0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new ke(this);this.add(i);var s=Re(n,i);s!==i&&this.add(s)}},e}(Me);function P0(t){return function(e){return e.lift(new Ha(t))}}function D0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Je(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Ft([n].concat(t)),new Ha(r))}}function j0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(xn.apply(void 0,[r].concat(t)))}}function of(t,e){return pr(t,e,1)}function F0(t,e){return of(function(){return t},e)}function $0(t){return function(e){return e.lift(new U0(t,e))}}var U0=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new W0(e,this.predicate,this.source))},t}(),W0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Q);function H0(t){return function(e){return e.lift(new V0(t))}}var V0=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new z0(e,this.durationSelector))},t}(),z0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Re(n,new ke(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Me);function q0(t,e){return e===void 0&&(e=Xe),function(r){return r.lift(new G0(t,e))}}var G0=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Q0(e,this.dueTime,this.scheduler))},t}(),Q0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Z0,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(Q);function Z0(t){t.debouncedNext()}function Nn(t){return t===void 0&&(t=null),function(e){return e.lift(new Y0(t))}}var Y0=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new K0(e,this.defaultValue))},t}(),K0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Q);function af(t){return t instanceof Date&&!isNaN(+t)}function J0(t,e){e===void 0&&(e=Xe);var r=af(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new X0(n,e))}}var X0=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new eb(e,this.delay,this.scheduler))},t}(),eb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new tb(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Pt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Pt.createComplete()),this.unsubscribe()},e}(Q),tb=function(){function t(e,r){this.time=e,this.notification=r}return t}();function rb(t,e){return e?function(r){return new ib(r,e).lift(new $c(t))}:function(r){return r.lift(new $c(t))}}var $c=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new nb(e,this.delayDurationSelector))},t}(),nb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Dt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(gr),ib=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new sb(r,this.source))},e}(se),sb=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Q);function ob(){return function(e){return e.lift(new ab)}}var ab=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new cb(e))},t}(),cb=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(Q);function ub(t,e){return function(r){return r.lift(new lb(t,e))}}var lb=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new fb(e,this.keySelector,this.flushes))},t}(),fb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Re(i,new ke(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Me);function cf(t,e){return function(r){return r.lift(new hb(t,e))}}var hb=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new db(e,this.compare,this.keySelector))},t}(),db=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(Q);function pb(t,e){return cf(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Fi(t){return t===void 0&&(t=gb),function(e){return e.lift(new bb(t))}}var bb=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new yb(e,this.errorFactory))},t}(),yb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(Q);function gb(){return new On}function qa(t){return function(e){return t===0?Jr():e.lift(new vb(t))}}var vb=function(){function t(e){if(this.total=e,this.total<0)throw new Dr}return t.prototype.call=function(e,r){return r.subscribe(new mb(e,this.total))},t}(),mb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Q);function _b(t,e){if(t<0)throw new Dr;var r=arguments.length>=2;return function(n){return n.pipe(er(function(i,s){return s===t}),qa(1),r?Nn(e):Fi(function(){return new Dr}))}}function wb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return xn(r,ji.apply(void 0,t))}}function Sb(t,e){return function(r){return r.lift(new Eb(t,e,r))}}var Eb=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new xb(e,this.predicate,this.thisArg,this.source))},t}(),xb=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Q);function Cb(){return function(t){return t.lift(new Ib)}}var Ib=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ab(e))},t}(),Ab=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Re(r,new ke(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Me);function uf(t,e){return e?function(r){return r.pipe(uf(function(n,i){return Ft(t(n,i)).pipe(dt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new kb(t))}}var kb=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Mb(e,this.project))},t}(),Mb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ke(this),i=this.destination;i.add(n);var s=Re(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Me);function Rb(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Tb(t,e,r))}}var Tb=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new Ob(e,this.project,this.concurrent,this.scheduler))},t}(),Ob=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(f){n.error(f)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Re(r,new ke(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Me);function Nb(t){return function(e){return e.lift(new Bb(t))}}var Bb=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new Lb(e,this.callback))},t}(),Lb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Ae(n)),i}return e}(Q);function Pb(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new lf(t,r,!1,e))}}var lf=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new Db(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),Db=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Q);function jb(t,e){return function(r){return r.lift(new lf(t,r,!0,e))}}function Fb(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?er(function(i,s){return t(i,s,n)}):Jt,qa(1),r?Nn(e):Fi(function(){return new On}))}}function $b(){return function(e){return e.lift(new Ub)}}var Ub=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Wb(e))},t}(),Wb=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(Q);function Hb(){return function(t){return t.lift(new Vb)}}var Vb=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new zb(e))},t}(),zb=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Q);function mi(t){return function(r){return t===0?Jr():r.lift(new qb(t))}}var qb=function(){function t(e){if(this.total=e,this.total<0)throw new Dr}return t.prototype.call=function(e,r){return r.subscribe(new Gb(e,this.total))},t}(),Gb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(Q);function Qb(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?er(function(i,s){return t(i,s,n)}):Jt,mi(1),r?Nn(e):Fi(function(){return new On}))}}function Zb(t){return function(e){return e.lift(new Yb(t))}}var Yb=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Kb(e,this.value))},t}(),Kb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(Q);function Jb(){return function(e){return e.lift(new Xb)}}var Xb=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new ey(e))},t}(),ey=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Pt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Pt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Pt.createComplete()),r.complete()},e}(Q);function _i(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new ty(t,e,r))}}var ty=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new ry(e,this.accumulator,this.seed,this.hasSeed))},t}(),ry=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(Q);function $i(t,e){return arguments.length>=2?function(n){return fa(_i(t,e),mi(1),Nn(e))(n)}:function(n){return fa(_i(function(i,s,o){return t(i,s,o+1)}),mi(1))(n)}}function ny(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return $i(e)}function iy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Yl.apply(void 0,[r].concat(t)))}}function sy(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?pr(function(){return t},e,r):(typeof e=="number"&&(r=e),pr(function(){return t},r))}function oy(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new ay(t,e,r))}}var ay=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new cy(e,this.accumulator,this.seed,this.concurrent))},t}(),cy=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new ke(this),i=this.destination;i.add(n);var s=Re(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Me);function uy(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return $i(e)}function br(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new ly(i,e));var s=Object.create(n,zd);return s.source=n,s.subjectFactory=i,s}}var ly=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function fy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Je(t[0])&&(t=t[0]),function(r){return r.lift(new hy(t))}}var hy=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new dy(e,this.nextSources))},t}(),dy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new ke(this),i=this.destination;i.add(n);var s=Re(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Me);function py(){return function(t){return t.lift(new by)}}var by=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new yy(e))},t}(),yy=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(Q);function gy(t,e){return function(r){return[er(t,e)(r),er(Jl(t,e))(r)]}}function vy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return dt(my(t,r))(n)}}function my(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function _y(t){return t?br(function(){return new $e},t):br(new $e)}function wy(t){return function(e){return br(new Tl(t))(e)}}function Sy(){return function(t){return br(new Xr)(t)}}function Ey(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Wa(t,e,n);return function(o){return br(function(){return s},i)(o)}}function xy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Je(t[0])&&(t=t[0]),n.lift.call(Xl.apply(void 0,[n].concat(t)))}}function Cy(t){return t===void 0&&(t=-1),function(e){return t===0?Jr():t<0?e.lift(new Uc(-1,e)):e.lift(new Uc(t-1,e))}}var Uc=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Iy(e,this.count,this.source))},t}(),Iy=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(Q);function Ay(t){return function(e){return e.lift(new ky(t))}}var ky=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new My(e,this.notifier,r))},t}(),My=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new $e;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Re(r,new ke(this))},e}(Me);function Ry(t){return t===void 0&&(t=-1),function(e){return e.lift(new Ty(t,e))}}var Ty=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Oy(e,this.count,this.source))},t}(),Oy=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(Q);function Ny(t){return function(e){return e.lift(new By(t,e))}}var By=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Ly(e,this.notifier,this.source))},t}(),Ly=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new $e;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=Re(i,new ke(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Me);function Py(t){return function(e){return e.lift(new Dy(t))}}var Dy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new jy(e),i=r.subscribe(n);return i.add(Re(this.notifier,new ke(n))),i},t}(),jy=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Me);function Fy(t,e){return e===void 0&&(e=Xe),function(r){return r.lift(new $y(t,e))}}var $y=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Uy(e,this.period,this.scheduler))},t}(),Uy=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(Wy,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Q);function Wy(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function Hy(t,e){return function(r){return r.lift(new Vy(t,e))}}var Vy=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new zy(e,this.compareTo,this.comparator))},t}(),zy=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new qy(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),u=!1;try{u=s?s(o,a):o===a}catch(f){this.destination.error(f)}u||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Q),qy=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Q);function Gy(){return new $e}function Qy(){return function(t){return Fa()(br(Gy)(t))}}function Zy(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Yy(n))}}function Yy(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,u=0,f,h=!1,_=!1;return function(v){u++;var w;!a||h?(h=!1,a=new Wa(r,i,o),w=a.subscribe(this),f=v.subscribe({next:function(M){a.next(M)},error:function(M){h=!0,a.error(M)},complete:function(){_=!0,f=void 0,a.complete()}}),_&&(f=void 0)):w=a.subscribe(this),this.add(function(){u--,w.unsubscribe(),w=void 0,f&&!_&&s&&u===0&&(f.unsubscribe(),f=void 0,a=void 0)})}}function Ky(t){return function(e){return e.lift(new Jy(t,e))}}var Jy=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Xy(e,this.predicate,this.source))},t}(),Xy=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new On)},e}(Q);function eg(t){return function(e){return e.lift(new tg(t))}}var tg=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new rg(e,this.total))},t}(),rg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(Q);function ng(t){return function(e){return e.lift(new ig(t))}}var ig=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Dr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new Q(e)):r.subscribe(new sg(e,this._skipCount))},t}(),sg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(Q);function og(t){return function(e){return e.lift(new ag(t))}}var ag=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new cg(e,this.notifier))},t}(),cg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new ke(i);i.add(s),i.innerSubscription=s;var o=Re(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Me);function ug(t){return function(e){return e.lift(new lg(t))}}var lg=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new fg(e,this.predicate))},t}(),fg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(Q);function hg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return nt(r)?(t.pop(),function(n){return xn(t,n,r)}):function(n){return xn(t,n)}}var dg=function(t){D(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ai);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!jr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ai),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ai),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(se);function pg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new bg(t,e))}}var bg=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new dg(r,this.delay,this.scheduler).subscribe(e)},t}();function Cn(t,e){return typeof e=="function"?function(r){return r.pipe(Cn(function(n,i){return Ft(t(n,i)).pipe(dt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new yg(t))}}var yg=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new gg(e,this.project))},t}(),gg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new ke(this),s=this.destination;s.add(i),this.innerSubscription=Re(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Me);function vg(){return Cn(Jt)}function mg(t,e){return e?Cn(function(){return t},e):Cn(function(){return t})}function _g(t){return function(e){return e.lift(new wg(t))}}var wg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Sg(e),i=Re(this.notifier,new ke(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),Sg=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Me);function Eg(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new xg(t,e))}}var xg=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Cg(e,this.predicate,this.inclusive))},t}(),Cg=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(Q);function Ig(t,e,r){return function(i){return i.lift(new Ag(t,e,r))}}var Ag=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new kg(e,this.nextOrObserver,this.error,this.complete))},t}(),kg=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Ct,o._tapError=Ct,o._tapComplete=Ct,o._tapError=i||Ct,o._tapComplete=s||Ct,Lr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Ct,o._tapError=n.error||Ct,o._tapComplete=n.complete||Ct),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(Q),ff={leading:!0,trailing:!1};function Mg(t,e){return e===void 0&&(e=ff),function(r){return r.lift(new Rg(t,!!e.leading,!!e.trailing))}}var Rg=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new Tg(e,this.durationSelector,this.leading,this.trailing))},t}(),Tg=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Re(n,new ke(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Me);function Og(t,e,r){return e===void 0&&(e=Xe),r===void 0&&(r=ff),function(n){return n.lift(new Ng(t,e,r.leading,r.trailing))}}var Ng=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new Bg(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Bg=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Lg,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(Q);function Lg(t){var e=t.subscriber;e.clearThrottle()}function Pg(t){return t===void 0&&(t=Xe),function(e){return za(function(){return e.pipe(_i(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),dt(function(r){var n=r.current,i=r.last,s=r.value;return new Dg(s,n-i)}))})}}var Dg=function(){function t(e,r){this.value=e,this.interval=r}return t}();function hf(t,e,r){return r===void 0&&(r=Xe),function(n){var i=af(t),s=i?+t-r.now():Math.abs(t);return n.lift(new jg(s,i,e,r))}}var jg=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Fg(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Fg=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Re(n,new ke(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Me);function $g(t,e){return e===void 0&&(e=Xe),hf(t,Ua(new $l),e)}function Ug(t){return t===void 0&&(t=Xe),dt(function(e){return new Wg(e,t.now())})}var Wg=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function Hg(t,e,r){return r===0?[e]:(t.push(e),t)}function Vg(){return $i(Hg,[])}function zg(t){return function(r){return r.lift(new qg(t))}}var qg=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new Gg(e),i=r.subscribe(n);return i.closed||n.add(Re(this.windowBoundaries,new ke(n))),i},t}(),Gg=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new $e,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new $e;n.next(i)},e}(Me);function Qg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Zg(t,e))}}var Zg=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Yg(e,this.windowSize,this.startWindowEvery))},t}(),Yg=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new $e],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,u=0;u<a&&!this.closed;u++)o[u].next(r);var f=this.count-s+1;if(f>=0&&f%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var h=new $e;o.push(h),i.next(h)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Q);function Kg(t){var e=Xe,r=null,n=Number.POSITIVE_INFINITY;return nt(arguments[3])&&(e=arguments[3]),nt(arguments[2])?e=arguments[2]:jr(arguments[2])&&(n=Number(arguments[2])),nt(arguments[1])?e=arguments[1]:jr(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new Jg(t,r,n,e))}}var Jg=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new e1(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Xg=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}($e),e1=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var f={subscriber:a,window:u,context:null},h={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(df,n,f)),a.add(o.schedule(r1,i,h))}else{var _={subscriber:a,window:u,windowTimeSpan:n};a.add(o.schedule(t1,n,_))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new Xg;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(Q);function t1(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function r1(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},u={subscriber:r,window:s,context:a};a.subscription=n.schedule(df,e,u),o.add(a.subscription),o.schedule(t,i)}function df(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function n1(t,e){return function(r){return r.lift(new i1(t,e))}}var i1=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new s1(e,this.openings,this.closingSelector))},t}(),s1=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Dt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(n)}catch(v){return this.error(v)}var f=new $e,h=new Ae,_={window:f,subscription:h};this.contexts.push(_);var p=Dt(this,a,_);p.closed?this.closeWindow(this.contexts.length-1):(p.context=_,h.add(p)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(gr);function o1(t){return function(r){return r.lift(new a1(t))}}var a1=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new c1(e,this.closingSelector))},t}(),c1=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new $e;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Dt(this,s))},e}(gr);function u1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new l1(i,n))}}var l1=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new f1(e,this.observables,this.project))},t}(),f1=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var u=n[a];s.add(Dt(s,u,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(gr);function h1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(tf.apply(void 0,[n].concat(t)))}}function d1(t){return function(e){return e.lift(new rf(t))}}const p1=Object.freeze(Object.defineProperty({__proto__:null,audit:nf,auditTime:p0,buffer:b0,bufferCount:v0,bufferTime:S0,bufferToggle:A0,bufferWhen:R0,catchError:N0,combineAll:P0,combineLatest:D0,concat:j0,concatAll:ql,concatMap:of,concatMapTo:F0,count:$0,debounce:H0,debounceTime:q0,defaultIfEmpty:Nn,delay:J0,delayWhen:rb,dematerialize:ob,distinct:ub,distinctUntilChanged:cf,distinctUntilKeyChanged:pb,elementAt:_b,endWith:wb,every:Sb,exhaust:Cb,exhaustMap:uf,expand:Rb,filter:er,finalize:Nb,find:Pb,findIndex:jb,first:Fb,groupBy:Gd,ignoreElements:$b,isEmpty:Hb,last:Qb,map:dt,mapTo:Zb,materialize:Jb,max:ny,merge:iy,mergeAll:Va,mergeMap:pr,flatMap:Fp,mergeMapTo:sy,mergeScan:oy,min:uy,multicast:br,observeOn:np,onErrorResumeNext:fy,pairwise:py,partition:gy,pluck:vy,publish:_y,publishBehavior:wy,publishLast:Sy,publishReplay:Ey,race:xy,reduce:$i,repeat:Cy,repeatWhen:Ay,retry:Ry,retryWhen:Ny,refCount:Fa,sample:Py,sampleTime:Fy,scan:_i,sequenceEqual:Hy,share:Qy,shareReplay:Zy,single:Ky,skip:eg,skipLast:ng,skipUntil:og,skipWhile:ug,startWith:hg,subscribeOn:pg,switchAll:vg,switchMap:Cn,switchMapTo:mg,take:qa,takeLast:mi,takeUntil:_g,takeWhile:Eg,tap:Ig,throttle:Mg,throttleTime:Og,throwIfEmpty:Fi,timeInterval:Pg,timeout:$g,timeoutWith:hf,timestamp:Ug,toArray:Vg,window:zg,windowCount:Qg,windowTime:Kg,windowToggle:n1,windowWhen:o1,withLatestFrom:u1,zip:h1,zipAll:d1},Symbol.toStringTag,{value:"Module"})),Ui=Gr(p1);var pf={exports:{}},Tt={exports:{}},Bn={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ad,r=kd,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const d=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(d,c),d.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function o(d){if(d>i)throw new RangeError('The value "'+d+'" is invalid for option "size"');const c=new Uint8Array(d);return Object.setPrototypeOf(c,a.prototype),c}function a(d,c,l){if(typeof d=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(d)}return u(d,c,l)}a.poolSize=8192;function u(d,c,l){if(typeof d=="string")return p(d,c);if(ArrayBuffer.isView(d))return w(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(He(d,ArrayBuffer)||d&&He(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(d,SharedArrayBuffer)||d&&He(d.buffer,SharedArrayBuffer)))return M(d,c,l);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=d.valueOf&&d.valueOf();if(y!=null&&y!==d)return a.from(y,c,l);const x=O(d);if(x)return x;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return a.from(d[Symbol.toPrimitive]("string"),c,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}a.from=function(d,c,l){return u(d,c,l)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function h(d,c,l){return f(d),d<=0?o(d):c!==void 0?typeof l=="string"?o(d).fill(c,l):o(d).fill(c):o(d)}a.alloc=function(d,c,l){return h(d,c,l)};function _(d){return f(d),o(d<0?0:m(d)|0)}a.allocUnsafe=function(d){return _(d)},a.allocUnsafeSlow=function(d){return _(d)};function p(d,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const l=A(d,c)|0;let y=o(l);const x=y.write(d,c);return x!==l&&(y=y.slice(0,x)),y}function v(d){const c=d.length<0?0:m(d.length)|0,l=o(c);for(let y=0;y<c;y+=1)l[y]=d[y]&255;return l}function w(d){if(He(d,Uint8Array)){const c=new Uint8Array(d);return M(c.buffer,c.byteOffset,c.byteLength)}return v(d)}function M(d,c,l){if(c<0||d.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<c+(l||0))throw new RangeError('"length" is outside of buffer bounds');let y;return c===void 0&&l===void 0?y=new Uint8Array(d):l===void 0?y=new Uint8Array(d,c):y=new Uint8Array(d,c,l),Object.setPrototypeOf(y,a.prototype),y}function O(d){if(a.isBuffer(d)){const c=m(d.length)|0,l=o(c);return l.length===0||d.copy(l,0,0,c),l}if(d.length!==void 0)return typeof d.length!="number"||wt(d.length)?o(0):v(d);if(d.type==="Buffer"&&Array.isArray(d.data))return v(d.data)}function m(d){if(d>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return d|0}function S(d){return+d!=d&&(d=0),a.alloc(+d)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,l){if(He(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),He(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(c)||!a.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===l)return 0;let y=c.length,x=l.length;for(let k=0,N=Math.min(y,x);k<N;++k)if(c[k]!==l[k]){y=c[k],x=l[k];break}return y<x?-1:x<y?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(c,l){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let y;if(l===void 0)for(l=0,y=0;y<c.length;++y)l+=c[y].length;const x=a.allocUnsafe(l);let k=0;for(y=0;y<c.length;++y){let N=c[y];if(He(N,Uint8Array))k+N.length>x.length?(a.isBuffer(N)||(N=a.from(N)),N.copy(x,k)):Uint8Array.prototype.set.call(x,N,k);else if(a.isBuffer(N))N.copy(x,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=N.length}return x};function A(d,c){if(a.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||He(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const l=d.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&l===0)return 0;let x=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return le(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return mt(d).length;default:if(x)return y?-1:le(d).length;c=(""+c).toLowerCase(),x=!0}}a.byteLength=A;function B(d,c,l){let y=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,c>>>=0,l<=c))return"";for(d||(d="utf8");;)switch(d){case"hex":return ve(this,c,l);case"utf8":case"utf-8":return oe(this,c,l);case"ascii":return Oe(this,c,l);case"latin1":case"binary":return Te(this,c,l);case"base64":return re(this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,c,l);default:if(y)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function $(d,c,l){const y=d[c];d[c]=d[l],d[l]=y}a.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<c;l+=2)$(this,l,l+1);return this},a.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<c;l+=4)$(this,l,l+3),$(this,l+1,l+2);return this},a.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<c;l+=8)$(this,l,l+7),$(this,l+1,l+6),$(this,l+2,l+5),$(this,l+3,l+4);return this},a.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?oe(this,0,c):B.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){let c="";const l=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(c+=" ... "),"<Buffer "+c+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(c,l,y,x,k){if(He(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(l===void 0&&(l=0),y===void 0&&(y=c?c.length:0),x===void 0&&(x=0),k===void 0&&(k=this.length),l<0||y>c.length||x<0||k>this.length)throw new RangeError("out of range index");if(x>=k&&l>=y)return 0;if(x>=k)return-1;if(l>=y)return 1;if(l>>>=0,y>>>=0,x>>>=0,k>>>=0,this===c)return 0;let N=k-x,te=y-l;const _e=Math.min(N,te),me=this.slice(x,k),we=c.slice(l,y);for(let ye=0;ye<_e;++ye)if(me[ye]!==we[ye]){N=me[ye],te=we[ye];break}return N<te?-1:te<N?1:0};function z(d,c,l,y,x){if(d.length===0)return-1;if(typeof l=="string"?(y=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,wt(l)&&(l=x?0:d.length-1),l<0&&(l=d.length+l),l>=d.length){if(x)return-1;l=d.length-1}else if(l<0)if(x)l=0;else return-1;if(typeof c=="string"&&(c=a.from(c,y)),a.isBuffer(c))return c.length===0?-1:q(d,c,l,y,x);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(d,c,l):Uint8Array.prototype.lastIndexOf.call(d,c,l):q(d,[c],l,y,x);throw new TypeError("val must be string, number or Buffer")}function q(d,c,l,y,x){let k=1,N=d.length,te=c.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(d.length<2||c.length<2)return-1;k=2,N/=2,te/=2,l/=2}function _e(we,ye){return k===1?we[ye]:we.readUInt16BE(ye*k)}let me;if(x){let we=-1;for(me=l;me<N;me++)if(_e(d,me)===_e(c,we===-1?0:me-we)){if(we===-1&&(we=me),me-we+1===te)return we*k}else we!==-1&&(me-=me-we),we=-1}else for(l+te>N&&(l=N-te),me=l;me>=0;me--){let we=!0;for(let ye=0;ye<te;ye++)if(_e(d,me+ye)!==_e(c,ye)){we=!1;break}if(we)return me}return-1}a.prototype.includes=function(c,l,y){return this.indexOf(c,l,y)!==-1},a.prototype.indexOf=function(c,l,y){return z(this,c,l,y,!0)},a.prototype.lastIndexOf=function(c,l,y){return z(this,c,l,y,!1)};function V(d,c,l,y){l=Number(l)||0;const x=d.length-l;y?(y=Number(y),y>x&&(y=x)):y=x;const k=c.length;y>k/2&&(y=k/2);let N;for(N=0;N<y;++N){const te=parseInt(c.substr(N*2,2),16);if(wt(te))return N;d[l+N]=te}return N}function W(d,c,l,y){return _t(le(c,d.length-l),d,l,y)}function de(d,c,l,y){return _t(et(c),d,l,y)}function ce(d,c,l,y){return _t(mt(c),d,l,y)}function K(d,c,l,y){return _t(L(c,d.length-l),d,l,y)}a.prototype.write=function(c,l,y,x){if(l===void 0)x="utf8",y=this.length,l=0;else if(y===void 0&&typeof l=="string")x=l,y=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(y)?(y=y>>>0,x===void 0&&(x="utf8")):(x=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const k=this.length-l;if((y===void 0||y>k)&&(y=k),c.length>0&&(y<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");let N=!1;for(;;)switch(x){case"hex":return V(this,c,l,y);case"utf8":case"utf-8":return W(this,c,l,y);case"ascii":case"latin1":case"binary":return de(this,c,l,y);case"base64":return ce(this,c,l,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,c,l,y);default:if(N)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),N=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(d,c,l){return c===0&&l===d.length?e.fromByteArray(d):e.fromByteArray(d.slice(c,l))}function oe(d,c,l){l=Math.min(d.length,l);const y=[];let x=c;for(;x<l;){const k=d[x];let N=null,te=k>239?4:k>223?3:k>191?2:1;if(x+te<=l){let _e,me,we,ye;switch(te){case 1:k<128&&(N=k);break;case 2:_e=d[x+1],(_e&192)===128&&(ye=(k&31)<<6|_e&63,ye>127&&(N=ye));break;case 3:_e=d[x+1],me=d[x+2],(_e&192)===128&&(me&192)===128&&(ye=(k&15)<<12|(_e&63)<<6|me&63,ye>2047&&(ye<55296||ye>57343)&&(N=ye));break;case 4:_e=d[x+1],me=d[x+2],we=d[x+3],(_e&192)===128&&(me&192)===128&&(we&192)===128&&(ye=(k&15)<<18|(_e&63)<<12|(me&63)<<6|we&63,ye>65535&&ye<1114112&&(N=ye))}}N===null?(N=65533,te=1):N>65535&&(N-=65536,y.push(N>>>10&1023|55296),N=56320|N&1023),y.push(N),x+=te}return Se(y)}const ue=4096;function Se(d){const c=d.length;if(c<=ue)return String.fromCharCode.apply(String,d);let l="",y=0;for(;y<c;)l+=String.fromCharCode.apply(String,d.slice(y,y+=ue));return l}function Oe(d,c,l){let y="";l=Math.min(d.length,l);for(let x=c;x<l;++x)y+=String.fromCharCode(d[x]&127);return y}function Te(d,c,l){let y="";l=Math.min(d.length,l);for(let x=c;x<l;++x)y+=String.fromCharCode(d[x]);return y}function ve(d,c,l){const y=d.length;(!c||c<0)&&(c=0),(!l||l<0||l>y)&&(l=y);let x="";for(let k=c;k<l;++k)x+=$t[d[k]];return x}function Le(d,c,l){const y=d.slice(c,l);let x="";for(let k=0;k<y.length-1;k+=2)x+=String.fromCharCode(y[k]+y[k+1]*256);return x}a.prototype.slice=function(c,l){const y=this.length;c=~~c,l=l===void 0?y:~~l,c<0?(c+=y,c<0&&(c=0)):c>y&&(c=y),l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),l<c&&(l=c);const x=this.subarray(c,l);return Object.setPrototypeOf(x,a.prototype),x};function pe(d,c,l){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+c>l)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,l,y){c=c>>>0,l=l>>>0,y||pe(c,l,this.length);let x=this[c],k=1,N=0;for(;++N<l&&(k*=256);)x+=this[c+N]*k;return x},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,l,y){c=c>>>0,l=l>>>0,y||pe(c,l,this.length);let x=this[c+--l],k=1;for(;l>0&&(k*=256);)x+=this[c+--l]*k;return x},a.prototype.readUint8=a.prototype.readUInt8=function(c,l){return c=c>>>0,l||pe(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,l){return c=c>>>0,l||pe(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,l){return c=c>>>0,l||pe(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readBigUInt64LE=Ze(function(c){c=c>>>0,P(c,"offset");const l=this[c],y=this[c+7];(l===void 0||y===void 0)&&U(c,this.length-8);const x=l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,k=this[++c]+this[++c]*2**8+this[++c]*2**16+y*2**24;return BigInt(x)+(BigInt(k)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ze(function(c){c=c>>>0,P(c,"offset");const l=this[c],y=this[c+7];(l===void 0||y===void 0)&&U(c,this.length-8);const x=l*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],k=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+y;return(BigInt(x)<<BigInt(32))+BigInt(k)}),a.prototype.readIntLE=function(c,l,y){c=c>>>0,l=l>>>0,y||pe(c,l,this.length);let x=this[c],k=1,N=0;for(;++N<l&&(k*=256);)x+=this[c+N]*k;return k*=128,x>=k&&(x-=Math.pow(2,8*l)),x},a.prototype.readIntBE=function(c,l,y){c=c>>>0,l=l>>>0,y||pe(c,l,this.length);let x=l,k=1,N=this[c+--x];for(;x>0&&(k*=256);)N+=this[c+--x]*k;return k*=128,N>=k&&(N-=Math.pow(2,8*l)),N},a.prototype.readInt8=function(c,l){return c=c>>>0,l||pe(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,l){c=c>>>0,l||pe(c,2,this.length);const y=this[c]|this[c+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(c,l){c=c>>>0,l||pe(c,2,this.length);const y=this[c+1]|this[c]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readBigInt64LE=Ze(function(c){c=c>>>0,P(c,"offset");const l=this[c],y=this[c+7];(l===void 0||y===void 0)&&U(c,this.length-8);const x=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(y<<24);return(BigInt(x)<<BigInt(32))+BigInt(l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),a.prototype.readBigInt64BE=Ze(function(c){c=c>>>0,P(c,"offset");const l=this[c],y=this[c+7];(l===void 0||y===void 0)&&U(c,this.length-8);const x=(l<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(x)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+y)}),a.prototype.readFloatLE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),r.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),r.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,l){return c=c>>>0,l||pe(c,8,this.length),r.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,l){return c=c>>>0,l||pe(c,8,this.length),r.read(this,c,!1,52,8)};function I(d,c,l,y,x,k){if(!a.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>x||c<k)throw new RangeError('"value" argument is out of bounds');if(l+y>d.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,l,y,x){if(c=+c,l=l>>>0,y=y>>>0,!x){const te=Math.pow(2,8*y)-1;I(this,c,l,y,te,0)}let k=1,N=0;for(this[l]=c&255;++N<y&&(k*=256);)this[l+N]=c/k&255;return l+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,l,y,x){if(c=+c,l=l>>>0,y=y>>>0,!x){const te=Math.pow(2,8*y)-1;I(this,c,l,y,te,0)}let k=y-1,N=1;for(this[l+k]=c&255;--k>=0&&(N*=256);)this[l+k]=c/N&255;return l+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,1,255,0),this[l]=c&255,l+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,2,65535,0),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,2,65535,0),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,4,4294967295,0),this[l+3]=c>>>24,this[l+2]=c>>>16,this[l+1]=c>>>8,this[l]=c&255,l+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,4,4294967295,0),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4};function T(d,c,l,y,x){g(c,y,x,d,l,7);let k=Number(c&BigInt(4294967295));d[l++]=k,k=k>>8,d[l++]=k,k=k>>8,d[l++]=k,k=k>>8,d[l++]=k;let N=Number(c>>BigInt(32)&BigInt(4294967295));return d[l++]=N,N=N>>8,d[l++]=N,N=N>>8,d[l++]=N,N=N>>8,d[l++]=N,l}function j(d,c,l,y,x){g(c,y,x,d,l,7);let k=Number(c&BigInt(4294967295));d[l+7]=k,k=k>>8,d[l+6]=k,k=k>>8,d[l+5]=k,k=k>>8,d[l+4]=k;let N=Number(c>>BigInt(32)&BigInt(4294967295));return d[l+3]=N,N=N>>8,d[l+2]=N,N=N>>8,d[l+1]=N,N=N>>8,d[l]=N,l+8}a.prototype.writeBigUInt64LE=Ze(function(c,l=0){return T(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ze(function(c,l=0){return j(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(c,l,y,x){if(c=+c,l=l>>>0,!x){const _e=Math.pow(2,8*y-1);I(this,c,l,y,_e-1,-_e)}let k=0,N=1,te=0;for(this[l]=c&255;++k<y&&(N*=256);)c<0&&te===0&&this[l+k-1]!==0&&(te=1),this[l+k]=(c/N>>0)-te&255;return l+y},a.prototype.writeIntBE=function(c,l,y,x){if(c=+c,l=l>>>0,!x){const _e=Math.pow(2,8*y-1);I(this,c,l,y,_e-1,-_e)}let k=y-1,N=1,te=0;for(this[l+k]=c&255;--k>=0&&(N*=256);)c<0&&te===0&&this[l+k+1]!==0&&(te=1),this[l+k]=(c/N>>0)-te&255;return l+y},a.prototype.writeInt8=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,1,127,-128),c<0&&(c=255+c+1),this[l]=c&255,l+1},a.prototype.writeInt16LE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,2,32767,-32768),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeInt16BE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,2,32767,-32768),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeInt32LE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,4,2147483647,-2147483648),this[l]=c&255,this[l+1]=c>>>8,this[l+2]=c>>>16,this[l+3]=c>>>24,l+4},a.prototype.writeInt32BE=function(c,l,y){return c=+c,l=l>>>0,y||I(this,c,l,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4},a.prototype.writeBigInt64LE=Ze(function(c,l=0){return T(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ze(function(c,l=0){return j(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(d,c,l,y,x,k){if(l+y>d.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function E(d,c,l,y,x){return c=+c,l=l>>>0,x||Z(d,c,l,4),r.write(d,c,l,y,23,4),l+4}a.prototype.writeFloatLE=function(c,l,y){return E(this,c,l,!0,y)},a.prototype.writeFloatBE=function(c,l,y){return E(this,c,l,!1,y)};function C(d,c,l,y,x){return c=+c,l=l>>>0,x||Z(d,c,l,8),r.write(d,c,l,y,52,8),l+8}a.prototype.writeDoubleLE=function(c,l,y){return C(this,c,l,!0,y)},a.prototype.writeDoubleBE=function(c,l,y){return C(this,c,l,!1,y)},a.prototype.copy=function(c,l,y,x){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(y||(y=0),!x&&x!==0&&(x=this.length),l>=c.length&&(l=c.length),l||(l=0),x>0&&x<y&&(x=y),x===y||c.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),c.length-l<x-y&&(x=c.length-l+y);const k=x-y;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,y,x):Uint8Array.prototype.set.call(c,this.subarray(y,x),l),k},a.prototype.fill=function(c,l,y,x){if(typeof c=="string"){if(typeof l=="string"?(x=l,l=0,y=this.length):typeof y=="string"&&(x=y,y=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(c.length===1){const N=c.charCodeAt(0);(x==="utf8"&&N<128||x==="latin1")&&(c=N)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(l<0||this.length<l||this.length<y)throw new RangeError("Out of range index");if(y<=l)return this;l=l>>>0,y=y===void 0?this.length:y>>>0,c||(c=0);let k;if(typeof c=="number")for(k=l;k<y;++k)this[k]=c;else{const N=a.isBuffer(c)?c:a.from(c,x),te=N.length;if(te===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(k=0;k<y-l;++k)this[k+l]=N[k%te]}return this};const R={};function F(d,c,l){R[d]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}F("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(d,c){return`The "${d}" argument must be of type number. Received type ${typeof c}`},TypeError),F("ERR_OUT_OF_RANGE",function(d,c,l){let y=`The value of "${d}" is out of range.`,x=l;return Number.isInteger(l)&&Math.abs(l)>2**32?x=H(String(l)):typeof l=="bigint"&&(x=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(x=H(x)),x+="n"),y+=` It must be ${c}. Received ${x}`,y},RangeError);function H(d){let c="",l=d.length;const y=d[0]==="-"?1:0;for(;l>=y+4;l-=3)c=`_${d.slice(l-3,l)}${c}`;return`${d.slice(0,l)}${c}`}function b(d,c,l){P(c,"offset"),(d[c]===void 0||d[c+l]===void 0)&&U(c,d.length-(l+1))}function g(d,c,l,y,x,k){if(d>l||d<c){const N=typeof c=="bigint"?"n":"";let te;throw k>3?c===0||c===BigInt(0)?te=`>= 0${N} and < 2${N} ** ${(k+1)*8}${N}`:te=`>= -(2${N} ** ${(k+1)*8-1}${N}) and < 2 ** ${(k+1)*8-1}${N}`:te=`>= ${c}${N} and <= ${l}${N}`,new R.ERR_OUT_OF_RANGE("value",te,d)}b(y,x,k)}function P(d,c){if(typeof d!="number")throw new R.ERR_INVALID_ARG_TYPE(c,"number",d)}function U(d,c,l){throw Math.floor(d)!==d?(P(d,l),new R.ERR_OUT_OF_RANGE(l||"offset","an integer",d)):c<0?new R.ERR_BUFFER_OUT_OF_BOUNDS:new R.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${c}`,d)}const be=/[^+/0-9A-Za-z-_]/g;function X(d){if(d=d.split("=")[0],d=d.trim().replace(be,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function le(d,c){c=c||1/0;let l;const y=d.length;let x=null;const k=[];for(let N=0;N<y;++N){if(l=d.charCodeAt(N),l>55295&&l<57344){if(!x){if(l>56319){(c-=3)>-1&&k.push(239,191,189);continue}else if(N+1===y){(c-=3)>-1&&k.push(239,191,189);continue}x=l;continue}if(l<56320){(c-=3)>-1&&k.push(239,191,189),x=l;continue}l=(x-55296<<10|l-56320)+65536}else x&&(c-=3)>-1&&k.push(239,191,189);if(x=null,l<128){if((c-=1)<0)break;k.push(l)}else if(l<2048){if((c-=2)<0)break;k.push(l>>6|192,l&63|128)}else if(l<65536){if((c-=3)<0)break;k.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((c-=4)<0)break;k.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return k}function et(d){const c=[];for(let l=0;l<d.length;++l)c.push(d.charCodeAt(l)&255);return c}function L(d,c){let l,y,x;const k=[];for(let N=0;N<d.length&&!((c-=2)<0);++N)l=d.charCodeAt(N),y=l>>8,x=l%256,k.push(x),k.push(y);return k}function mt(d){return e.toByteArray(X(d))}function _t(d,c,l,y){let x;for(x=0;x<y&&!(x+l>=c.length||x>=d.length);++x)c[x+l]=d[x];return x}function He(d,c){return d instanceof c||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===c.name}function wt(d){return d!==d}const $t=function(){const d="0123456789abcdef",c=new Array(256);for(let l=0;l<16;++l){const y=l*16;for(let x=0;x<16;++x)c[y+x]=d[l]+d[x]}return c}();function Ze(d){return typeof BigInt>"u"?St:d}function St(){throw new Error("BigInt not supported")}})(Bn);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Bn,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Tt,Tt.exports);var bf=Tt.exports.Buffer;function Wi(t,e){this._block=bf.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Wi.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=bf.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,u=Math.min(i-o,n-a),f=0;f<u;f++)r[a+f]=t[o+f];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};Wi.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Wi.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var tn=Wi,b1=ht.exports,yf=tn,y1=Tt.exports.Buffer,g1=[1518500249,1859775393,-1894007588,-899497514],v1=new Array(80);function Ln(){this.init(),this._w=v1,yf.call(this,64,56)}b1(Ln,yf);Ln.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function m1(t){return t<<5|t>>>27}function _1(t){return t<<30|t>>>2}function w1(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Ln.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var f=~~(u/20),h=m1(r)+w1(f,n,i,s)+o+e[u]+g1[f]|0;o=s,s=i,i=_1(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Ln.prototype._hash=function(){var t=y1.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var S1=Ln,E1=ht.exports,gf=tn,x1=Tt.exports.Buffer,C1=[1518500249,1859775393,-1894007588,-899497514],I1=new Array(80);function Pn(){this.init(),this._w=I1,gf.call(this,64,56)}E1(Pn,gf);Pn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function A1(t){return t<<1|t>>>31}function k1(t){return t<<5|t>>>27}function M1(t){return t<<30|t>>>2}function R1(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Pn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=A1(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var f=~~(u/20),h=k1(r)+R1(f,n,i,s)+o+e[u]+C1[f]|0;o=s,s=i,i=M1(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Pn.prototype._hash=function(){var t=x1.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var T1=Pn,O1=ht.exports,vf=tn,N1=Tt.exports.Buffer,B1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],L1=new Array(64);function Dn(){this.init(),this._w=L1,vf.call(this,64,56)}O1(Dn,vf);Dn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function P1(t,e,r){return r^t&(e^r)}function D1(t,e,r){return t&e|r&(t|e)}function j1(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function F1(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function $1(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function U1(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Dn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,f=this._h|0,h=0;h<16;++h)e[h]=t.readInt32BE(h*4);for(;h<64;++h)e[h]=U1(e[h-2])+e[h-7]+$1(e[h-15])+e[h-16]|0;for(var _=0;_<64;++_){var p=f+F1(o)+P1(o,a,u)+B1[_]+e[_]|0,v=j1(r)+D1(r,n,i)|0;f=u,u=a,a=o,o=s+p|0,s=i,i=n,n=r,r=p+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=f+this._h|0};Dn.prototype._hash=function(){var t=N1.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var mf=Dn,W1=ht.exports,H1=mf,V1=tn,z1=Tt.exports.Buffer,q1=new Array(64);function Hi(){this.init(),this._w=q1,V1.call(this,64,56)}W1(Hi,H1);Hi.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Hi.prototype._hash=function(){var t=z1.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var G1=Hi,Q1=ht.exports,_f=tn,Z1=Tt.exports.Buffer,Wc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Y1=new Array(160);function jn(){this.init(),this._w=Y1,_f.call(this,128,112)}Q1(jn,_f);jn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Hc(t,e,r){return r^t&(e^r)}function Vc(t,e,r){return t&e|r&(t|e)}function zc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function qc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function K1(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function J1(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function X1(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function ev(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Pe(t,e){return t>>>0<e>>>0?1:0}jn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,f=this._hh|0,h=this._al|0,_=this._bl|0,p=this._cl|0,v=this._dl|0,w=this._el|0,M=this._fl|0,O=this._gl|0,m=this._hl|0,S=0;S<32;S+=2)e[S]=t.readInt32BE(S*4),e[S+1]=t.readInt32BE(S*4+4);for(;S<160;S+=2){var A=e[S-30],B=e[S-15*2+1],$=K1(A,B),z=J1(B,A);A=e[S-2*2],B=e[S-2*2+1];var q=X1(A,B),V=ev(B,A),W=e[S-7*2],de=e[S-7*2+1],ce=e[S-16*2],K=e[S-16*2+1],re=z+de|0,oe=$+W+Pe(re,z)|0;re=re+V|0,oe=oe+q+Pe(re,V)|0,re=re+K|0,oe=oe+ce+Pe(re,K)|0,e[S]=oe,e[S+1]=re}for(var ue=0;ue<160;ue+=2){oe=e[ue],re=e[ue+1];var Se=Vc(r,n,i),Oe=Vc(h,_,p),Te=zc(r,h),ve=zc(h,r),Le=qc(o,w),pe=qc(w,o),I=Wc[ue],T=Wc[ue+1],j=Hc(o,a,u),Z=Hc(w,M,O),E=m+pe|0,C=f+Le+Pe(E,m)|0;E=E+Z|0,C=C+j+Pe(E,Z)|0,E=E+T|0,C=C+I+Pe(E,T)|0,E=E+re|0,C=C+oe+Pe(E,re)|0;var R=ve+Oe|0,F=Te+Se+Pe(R,ve)|0;f=u,m=O,u=a,O=M,a=o,M=w,w=v+E|0,o=s+C+Pe(w,v)|0,s=i,v=p,i=n,p=_,n=r,_=h,h=E+R|0,r=C+F+Pe(h,E)|0}this._al=this._al+h|0,this._bl=this._bl+_|0,this._cl=this._cl+p|0,this._dl=this._dl+v|0,this._el=this._el+w|0,this._fl=this._fl+M|0,this._gl=this._gl+O|0,this._hl=this._hl+m|0,this._ah=this._ah+r+Pe(this._al,h)|0,this._bh=this._bh+n+Pe(this._bl,_)|0,this._ch=this._ch+i+Pe(this._cl,p)|0,this._dh=this._dh+s+Pe(this._dl,v)|0,this._eh=this._eh+o+Pe(this._el,w)|0,this._fh=this._fh+a+Pe(this._fl,M)|0,this._gh=this._gh+u+Pe(this._gl,O)|0,this._hh=this._hh+f+Pe(this._hl,m)|0};jn.prototype._hash=function(){var t=Z1.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var wf=jn,tv=ht.exports,rv=wf,nv=tn,iv=Tt.exports.Buffer,sv=new Array(160);function Vi(){this.init(),this._w=sv,nv.call(this,128,112)}tv(Vi,rv);Vi.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Vi.prototype._hash=function(){var t=iv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var ov=Vi,vr=pf.exports=function(e){e=e.toLowerCase();var r=vr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};vr.sha=S1;vr.sha1=T1;vr.sha224=G1;vr.sha256=mf;vr.sha384=ov;vr.sha512=wf;var G={},Sf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Gc=typeof Symbol<"u"&&Symbol,av=Sf,cv=function(){return typeof Gc!="function"||typeof Symbol!="function"||typeof Gc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:av()},uv="Function.prototype.bind called on incompatible ",vo=Array.prototype.slice,lv=Object.prototype.toString,fv="[object Function]",hv=function(e){var r=this;if(typeof r!="function"||lv.call(r)!==fv)throw new TypeError(uv+r);for(var n=vo.call(arguments,1),i,s=function(){if(this instanceof i){var h=r.apply(this,n.concat(vo.call(arguments)));return Object(h)===h?h:this}else return r.apply(e,n.concat(vo.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},dv=hv,Ga=Function.prototype.bind||dv,pv=Ga,bv=pv.call(Function.call,Object.prototype.hasOwnProperty),he,Fr=SyntaxError,Ef=Function,Rr=TypeError,mo=function(t){try{return Ef('"use strict"; return ('+t+").constructor;")()}catch{}},hr=Object.getOwnPropertyDescriptor;if(hr)try{hr({},"")}catch{hr=null}var _o=function(){throw new Rr},yv=hr?function(){try{return arguments.callee,_o}catch{try{return hr(arguments,"callee").get}catch{return _o}}}():_o,wr=cv(),Vt=Object.getPrototypeOf||function(t){return t.__proto__},xr={},gv=typeof Uint8Array>"u"?he:Vt(Uint8Array),Tr={"%AggregateError%":typeof AggregateError>"u"?he:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?he:ArrayBuffer,"%ArrayIteratorPrototype%":wr?Vt([][Symbol.iterator]()):he,"%AsyncFromSyncIteratorPrototype%":he,"%AsyncFunction%":xr,"%AsyncGenerator%":xr,"%AsyncGeneratorFunction%":xr,"%AsyncIteratorPrototype%":xr,"%Atomics%":typeof Atomics>"u"?he:Atomics,"%BigInt%":typeof BigInt>"u"?he:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?he:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?he:Float32Array,"%Float64Array%":typeof Float64Array>"u"?he:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?he:FinalizationRegistry,"%Function%":Ef,"%GeneratorFunction%":xr,"%Int8Array%":typeof Int8Array>"u"?he:Int8Array,"%Int16Array%":typeof Int16Array>"u"?he:Int16Array,"%Int32Array%":typeof Int32Array>"u"?he:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wr?Vt(Vt([][Symbol.iterator]())):he,"%JSON%":typeof JSON=="object"?JSON:he,"%Map%":typeof Map>"u"?he:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wr?he:Vt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?he:Promise,"%Proxy%":typeof Proxy>"u"?he:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?he:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?he:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wr?he:Vt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?he:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wr?Vt(""[Symbol.iterator]()):he,"%Symbol%":wr?Symbol:he,"%SyntaxError%":Fr,"%ThrowTypeError%":yv,"%TypedArray%":gv,"%TypeError%":Rr,"%Uint8Array%":typeof Uint8Array>"u"?he:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?he:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?he:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?he:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?he:WeakMap,"%WeakRef%":typeof WeakRef>"u"?he:WeakRef,"%WeakSet%":typeof WeakSet>"u"?he:WeakSet},vv=function t(e){var r;if(e==="%AsyncFunction%")r=mo("async function () {}");else if(e==="%GeneratorFunction%")r=mo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=mo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Vt(i.prototype))}return Tr[e]=r,r},Qc={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Fn=Ga,wi=bv,mv=Fn.call(Function.call,Array.prototype.concat),_v=Fn.call(Function.apply,Array.prototype.splice),Zc=Fn.call(Function.call,String.prototype.replace),Si=Fn.call(Function.call,String.prototype.slice),wv=Fn.call(Function.call,RegExp.prototype.exec),Sv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ev=/\\(\\)?/g,xv=function(e){var r=Si(e,0,1),n=Si(e,-1);if(r==="%"&&n!=="%")throw new Fr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Fr("invalid intrinsic syntax, expected opening `%`");var i=[];return Zc(e,Sv,function(s,o,a,u){i[i.length]=a?Zc(u,Ev,"$1"):o||s}),i},Cv=function(e,r){var n=e,i;if(wi(Qc,n)&&(i=Qc[n],n="%"+i[0]+"%"),wi(Tr,n)){var s=Tr[n];if(s===xr&&(s=vv(n)),typeof s>"u"&&!r)throw new Rr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Fr("intrinsic "+e+" does not exist!")},zi=function(e,r){if(typeof e!="string"||e.length===0)throw new Rr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Rr('"allowMissing" argument must be a boolean');if(wv(/^%?[^%]*%?$/,e)===null)throw new Fr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=xv(e),i=n.length>0?n[0]:"",s=Cv("%"+i+"%",r),o=s.name,a=s.value,u=!1,f=s.alias;f&&(i=f[0],_v(n,mv([0,1],f)));for(var h=1,_=!0;h<n.length;h+=1){var p=n[h],v=Si(p,0,1),w=Si(p,-1);if((v==='"'||v==="'"||v==="`"||w==='"'||w==="'"||w==="`")&&v!==w)throw new Fr("property names with quotes must have matching quotes");if((p==="constructor"||!_)&&(u=!0),i+="."+p,o="%"+i+"%",wi(Tr,o))a=Tr[o];else if(a!=null){if(!(p in a)){if(!r)throw new Rr("base intrinsic for "+e+" exists, but the property is not available.");return}if(hr&&h+1>=n.length){var M=hr(a,p);_=!!M,_&&"get"in M&&!("originalValue"in M.get)?a=M.get:a=a[p]}else _=wi(a,p),a=a[p];_&&!u&&(Tr[o]=a)}}return a},xf={exports:{}};(function(t){var e=Ga,r=zi,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(_){var p=s(e,i,arguments);if(o&&a){var v=o(p,"length");v.configurable&&a(p,"length",{value:1+u(0,_.length-(arguments.length-1))})}return p};var f=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:f}):t.exports.apply=f})(xf);var Cf=zi,If=xf.exports,Iv=If(Cf("String.prototype.indexOf")),qi=function(e,r){var n=Cf(e,!!r);return typeof n=="function"&&Iv(e,".prototype.")>-1?If(n):n},Qa=typeof Map=="function"&&Map.prototype,wo=Object.getOwnPropertyDescriptor&&Qa?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ei=Qa&&wo&&typeof wo.get=="function"?wo.get:null,Av=Qa&&Map.prototype.forEach,Za=typeof Set=="function"&&Set.prototype,So=Object.getOwnPropertyDescriptor&&Za?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,xi=Za&&So&&typeof So.get=="function"?So.get:null,kv=Za&&Set.prototype.forEach,Mv=typeof WeakMap=="function"&&WeakMap.prototype,pn=Mv?WeakMap.prototype.has:null,Rv=typeof WeakSet=="function"&&WeakSet.prototype,bn=Rv?WeakSet.prototype.has:null,Tv=typeof WeakRef=="function"&&WeakRef.prototype,Yc=Tv?WeakRef.prototype.deref:null,Ov=Boolean.prototype.valueOf,Nv=Object.prototype.toString,Bv=Function.prototype.toString,Lv=String.prototype.match,Ya=String.prototype.slice,Qt=String.prototype.replace,Pv=String.prototype.toUpperCase,Kc=String.prototype.toLowerCase,Af=RegExp.prototype.test,Jc=Array.prototype.concat,At=Array.prototype.join,Dv=Array.prototype.slice,Xc=Math.floor,ga=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Eo=Object.getOwnPropertySymbols,va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,$r=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Qe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$r?"object":"symbol")?Symbol.toStringTag:null,kf=Object.prototype.propertyIsEnumerable,eu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function tu(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Af.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Xc(-t):Xc(t);if(n!==t){var i=String(n),s=Ya.call(e,i.length+1);return Qt.call(i,r,"$&_")+"."+Qt.call(Qt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qt.call(e,r,"$&_")}var ma=Na,ru=ma.custom,nu=Rf(ru)?ru:null,jv=function t(e,r,n,i){var s=r||{};if(zt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=zt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Of(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?tu(e,u):u}if(typeof e=="bigint"){var f=String(e)+"n";return a?tu(e,f):f}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return _a(e)?"[Array]":"[Object]";var _=rm(s,n);if(typeof i>"u")i=[];else if(Tf(i,e)>=0)return"[Circular]";function p(re,oe,ue){if(oe&&(i=Dv.call(i),i.push(oe)),ue){var Se={depth:s.depth};return zt(s,"quoteStyle")&&(Se.quoteStyle=s.quoteStyle),t(re,Se,n+1,i)}return t(re,s,n+1,i)}if(typeof e=="function"&&!iu(e)){var v=Gv(e),w=Kn(e,p);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(w.length>0?" { "+At.call(w,", ")+" }":"")}if(Rf(e)){var M=$r?Qt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):va.call(e);return typeof e=="object"&&!$r?an(M):M}if(Xv(e)){for(var O="<"+Kc.call(String(e.nodeName)),m=e.attributes||[],S=0;S<m.length;S++)O+=" "+m[S].name+"="+Mf(Fv(m[S].value),"double",s);return O+=">",e.childNodes&&e.childNodes.length&&(O+="..."),O+="</"+Kc.call(String(e.nodeName))+">",O}if(_a(e)){if(e.length===0)return"[]";var A=Kn(e,p);return _&&!tm(A)?"["+wa(A,_)+"]":"[ "+At.call(A,", ")+" ]"}if(Uv(e)){var B=Kn(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!kf.call(e,"cause")?"{ ["+String(e)+"] "+At.call(Jc.call("[cause]: "+p(e.cause),B),", ")+" }":B.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+At.call(B,", ")+" }"}if(typeof e=="object"&&o){if(nu&&typeof e[nu]=="function"&&ma)return ma(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Qv(e)){var $=[];return Av.call(e,function(re,oe){$.push(p(oe,e,!0)+" => "+p(re,e))}),su("Map",Ei.call(e),$,_)}if(Kv(e)){var z=[];return kv.call(e,function(re){z.push(p(re,e))}),su("Set",xi.call(e),z,_)}if(Zv(e))return xo("WeakMap");if(Jv(e))return xo("WeakSet");if(Yv(e))return xo("WeakRef");if(Hv(e))return an(p(Number(e)));if(zv(e))return an(p(ga.call(e)));if(Vv(e))return an(Ov.call(e));if(Wv(e))return an(p(String(e)));if(!$v(e)&&!iu(e)){var q=Kn(e,p),V=eu?eu(e)===Object.prototype:e instanceof Object||e.constructor===Object,W=e instanceof Object?"":"null prototype",de=!V&&Qe&&Object(e)===e&&Qe in e?Ya.call(nr(e),8,-1):W?"Object":"",ce=V||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=ce+(de||W?"["+At.call(Jc.call([],de||[],W||[]),": ")+"] ":"");return q.length===0?K+"{}":_?K+"{"+wa(q,_)+"}":K+"{ "+At.call(q,", ")+" }"}return String(e)};function Mf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Fv(t){return Qt.call(String(t),/"/g,"&quot;")}function _a(t){return nr(t)==="[object Array]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function $v(t){return nr(t)==="[object Date]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function iu(t){return nr(t)==="[object RegExp]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function Uv(t){return nr(t)==="[object Error]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function Wv(t){return nr(t)==="[object String]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function Hv(t){return nr(t)==="[object Number]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function Vv(t){return nr(t)==="[object Boolean]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function Rf(t){if($r)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!va)return!1;try{return va.call(t),!0}catch{}return!1}function zv(t){if(!t||typeof t!="object"||!ga)return!1;try{return ga.call(t),!0}catch{}return!1}var qv=Object.prototype.hasOwnProperty||function(t){return t in this};function zt(t,e){return qv.call(t,e)}function nr(t){return Nv.call(t)}function Gv(t){if(t.name)return t.name;var e=Lv.call(Bv.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Tf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Qv(t){if(!Ei||!t||typeof t!="object")return!1;try{Ei.call(t);try{xi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Zv(t){if(!pn||!t||typeof t!="object")return!1;try{pn.call(t,pn);try{bn.call(t,bn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Yv(t){if(!Yc||!t||typeof t!="object")return!1;try{return Yc.call(t),!0}catch{}return!1}function Kv(t){if(!xi||!t||typeof t!="object")return!1;try{xi.call(t);try{Ei.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Jv(t){if(!bn||!t||typeof t!="object")return!1;try{bn.call(t,bn);try{pn.call(t,pn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Xv(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Of(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Of(Ya.call(t,0,e.maxStringLength),e)+n}var i=Qt.call(Qt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,em);return Mf(i,"single",e)}function em(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Pv.call(e.toString(16))}function an(t){return"Object("+t+")"}function xo(t){return t+" { ? }"}function su(t,e,r,n){var i=n?wa(r,n):At.call(r,", ");return t+" ("+e+") {"+i+"}"}function tm(t){for(var e=0;e<t.length;e++)if(Tf(t[e],`
`)>=0)return!1;return!0}function rm(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=At.call(Array(t.indent+1)," ");else return null;return{base:r,prev:At.call(Array(e+1),r)}}function wa(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+At.call(t,","+r)+`
`+e.prev}function Kn(t,e){var r=_a(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=zt(t,i)?e(t[i],t):""}var s=typeof Eo=="function"?Eo(t):[],o;if($r){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)!zt(t,u)||r&&String(Number(u))===u&&u<t.length||$r&&o["$"+u]instanceof Symbol||(Af.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof Eo=="function")for(var f=0;f<s.length;f++)kf.call(t,s[f])&&n.push("["+e(s[f])+"]: "+e(t[s[f]],t));return n}var Ka=zi,rn=qi,nm=jv,im=Ka("%TypeError%"),Jn=Ka("%WeakMap%",!0),Xn=Ka("%Map%",!0),sm=rn("WeakMap.prototype.get",!0),om=rn("WeakMap.prototype.set",!0),am=rn("WeakMap.prototype.has",!0),cm=rn("Map.prototype.get",!0),um=rn("Map.prototype.set",!0),lm=rn("Map.prototype.has",!0),Ja=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},fm=function(t,e){var r=Ja(t,e);return r&&r.value},hm=function(t,e,r){var n=Ja(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},dm=function(t,e){return!!Ja(t,e)},pm=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new im("Side channel does not contain "+nm(s))},get:function(s){if(Jn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return sm(e,s)}else if(Xn){if(r)return cm(r,s)}else if(n)return fm(n,s)},has:function(s){if(Jn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return am(e,s)}else if(Xn){if(r)return lm(r,s)}else if(n)return dm(n,s);return!1},set:function(s,o){Jn&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Jn),om(e,s,o)):Xn?(r||(r=new Xn),um(r,s,o)):(n||(n={key:{},next:null}),hm(n,s,o))}};return i},bm=String.prototype.replace,ym=/%20/g,Co={RFC1738:"RFC1738",RFC3986:"RFC3986"},Xa={default:Co.RFC3986,formatters:{RFC1738:function(t){return bm.call(t,ym,"+")},RFC3986:function(t){return String(t)}},RFC1738:Co.RFC1738,RFC3986:Co.RFC3986},gm=Xa,Io=Object.prototype.hasOwnProperty,ar=Array.isArray,Et=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),vm=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ar(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Nf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},mm=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ar(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Io.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ar(e)&&!ar(r)&&(i=Nf(e,n)),ar(e)&&ar(r)?(r.forEach(function(s,o){if(Io.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Io.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},_m=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},wm=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Sm=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var f=o.charCodeAt(u);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===gm.RFC1738&&(f===40||f===41)){a+=o.charAt(u);continue}if(f<128){a=a+Et[f];continue}if(f<2048){a=a+(Et[192|f>>6]+Et[128|f&63]);continue}if(f<55296||f>=57344){a=a+(Et[224|f>>12]+Et[128|f>>6&63]+Et[128|f&63]);continue}u+=1,f=65536+((f&1023)<<10|o.charCodeAt(u)&1023),a+=Et[240|f>>18]+Et[128|f>>12&63]+Et[128|f>>6&63]+Et[128|f&63]}return a},Em=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var f=a[u],h=o[f];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:f}),n.push(h))}return vm(r),e},xm=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Cm=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Im=function(e,r){return[].concat(e,r)},Am=function(e,r){if(ar(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Bf={arrayToObject:Nf,assign:_m,combine:Im,compact:Em,decode:wm,encode:Sm,isBuffer:Cm,isRegExp:xm,maybeMap:Am,merge:mm},Lf=pm,Sa=Bf,yn=Xa,km=Object.prototype.hasOwnProperty,ou={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Bt=Array.isArray,Mm=String.prototype.split,Rm=Array.prototype.push,Pf=function(t,e){Rm.apply(t,Bt(e)?e:[e])},Tm=Date.prototype.toISOString,au=yn.default,Ue={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Sa.encode,encodeValuesOnly:!1,format:au,formatter:yn.formatters[au],indices:!1,serializeDate:function(e){return Tm.call(e)},skipNulls:!1,strictNullHandling:!1},Om=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ao={},Nm=function t(e,r,n,i,s,o,a,u,f,h,_,p,v,w,M,O){for(var m=e,S=O,A=0,B=!1;(S=S.get(Ao))!==void 0&&!B;){var $=S.get(e);if(A+=1,typeof $<"u"){if($===A)throw new RangeError("Cyclic object value");B=!0}typeof S.get(Ao)>"u"&&(A=0)}if(typeof u=="function"?m=u(r,m):m instanceof Date?m=_(m):n==="comma"&&Bt(m)&&(m=Sa.maybeMap(m,function(ve){return ve instanceof Date?_(ve):ve})),m===null){if(s)return a&&!w?a(r,Ue.encoder,M,"key",p):r;m=""}if(Om(m)||Sa.isBuffer(m)){if(a){var z=w?r:a(r,Ue.encoder,M,"key",p);if(n==="comma"&&w){for(var q=Mm.call(String(m),","),V="",W=0;W<q.length;++W)V+=(W===0?"":",")+v(a(q[W],Ue.encoder,M,"value",p));return[v(z)+(i&&Bt(m)&&q.length===1?"[]":"")+"="+V]}return[v(z)+"="+v(a(m,Ue.encoder,M,"value",p))]}return[v(r)+"="+v(String(m))]}var de=[];if(typeof m>"u")return de;var ce;if(n==="comma"&&Bt(m))ce=[{value:m.length>0?m.join(",")||null:void 0}];else if(Bt(u))ce=u;else{var K=Object.keys(m);ce=f?K.sort(f):K}for(var re=i&&Bt(m)&&m.length===1?r+"[]":r,oe=0;oe<ce.length;++oe){var ue=ce[oe],Se=typeof ue=="object"&&typeof ue.value<"u"?ue.value:m[ue];if(!(o&&Se===null)){var Oe=Bt(m)?typeof n=="function"?n(re,ue):re:re+(h?"."+ue:"["+ue+"]");O.set(e,A);var Te=Lf();Te.set(Ao,O),Pf(de,t(Se,Oe,n,i,s,o,a,u,f,h,_,p,v,w,M,Te))}}return de},Bm=function(e){if(!e)return Ue;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ue.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=yn.default;if(typeof e.format<"u"){if(!km.call(yn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=yn.formatters[n],s=Ue.filter;return(typeof e.filter=="function"||Bt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ue.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ue.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ue.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ue.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ue.encode,encoder:typeof e.encoder=="function"?e.encoder:Ue.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ue.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ue.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ue.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ue.strictNullHandling}},Lm=function(t,e){var r=t,n=Bm(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Bt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in ou?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=ou[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=Lf(),_=0;_<i.length;++_){var p=i[_];n.skipNulls&&r[p]===null||Pf(o,Nm(r[p],p,u,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var v=o.join(n.delimiter),w=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),v.length>0?w+v:""},Ur=Bf,Ea=Object.prototype.hasOwnProperty,Pm=Array.isArray,je={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ur.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Dm=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Df=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},jm="utf8=%26%2310003%3B",Fm="utf8=%E2%9C%93",$m=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,f=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===Fm?f="utf-8":o[u]===jm&&(f="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var h=o[u],_=h.indexOf("]="),p=_===-1?h.indexOf("="):_+1,v,w;p===-1?(v=r.decoder(h,je.decoder,f,"key"),w=r.strictNullHandling?null:""):(v=r.decoder(h.slice(0,p),je.decoder,f,"key"),w=Ur.maybeMap(Df(h.slice(p+1),r),function(M){return r.decoder(M,je.decoder,f,"value")})),w&&r.interpretNumericEntities&&f==="iso-8859-1"&&(w=Dm(w)),h.indexOf("[]=")>-1&&(w=Pm(w)?[w]:w),Ea.call(n,v)?n[v]=Ur.combine(n[v],w):n[v]=w}return n},Um=function(t,e,r,n){for(var i=n?e:Df(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,f=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(f)&&a!==u&&String(f)===u&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},Wm=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),f=u?s.slice(0,u.index):s,h=[];if(f){if(!n.plainObjects&&Ea.call(Object.prototype,f)&&!n.allowPrototypes)return;h.push(f)}for(var _=0;n.depth>0&&(u=a.exec(s))!==null&&_<n.depth;){if(_+=1,!n.plainObjects&&Ea.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(u[1])}return u&&h.push("["+s.slice(u.index)+"]"),Um(h,r,n,i)}},Hm=function(e){if(!e)return je;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?je.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?je.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:je.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:je.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:je.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:je.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:je.comma,decoder:typeof e.decoder=="function"?e.decoder:je.decoder,delimiter:typeof e.delimiter=="string"||Ur.isRegExp(e.delimiter)?e.delimiter:je.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:je.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:je.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:je.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:je.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:je.strictNullHandling}},Vm=function(t,e){var r=Hm(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?$m(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=Wm(a,n[a],r,typeof t=="string");i=Ur.merge(i,u,r)}return r.allowSparse===!0?i:Ur.compact(i)},zm=Lm,qm=Vm,Gm=Xa,Qm={formats:Gm,parse:qm,stringify:zm},$n={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})($n);var Zm=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G,"__esModule",{value:!0});G.isInIFrame=G.createQrUrl=G.getFavicon=G.range=G.isBigNumber=G.ensureParsedJSONObject=G.ensureBN=G.ensureRegExpString=G.ensureIntNumber=G.ensureBuffer=G.ensureAddressString=G.ensureEvenLengthHexString=G.ensureHexString=G.isHexString=G.prepend0x=G.strip0x=G.has0xPrefix=G.hexStringFromIntNumber=G.intNumberFromHexString=G.bigIntStringFromBN=G.hexStringFromBuffer=G.hexStringToUint8Array=G.uint8ArrayToHex=G.randomBytesHex=void 0;const Gt=Zm(Oi.exports),Ym=Qm,ft=$n,jf=/^[0-9]*$/,Ff=/^[a-f0-9]*$/;function Km(t){return $f(crypto.getRandomValues(new Uint8Array(t)))}G.randomBytesHex=Km;function $f(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}G.uint8ArrayToHex=$f;function Jm(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}G.hexStringToUint8Array=Jm;function Xm(t,e=!1){const r=t.toString("hex");return(0,ft.HexString)(e?"0x"+r:r)}G.hexStringFromBuffer=Xm;function e_(t){return(0,ft.BigIntString)(t.toString(10))}G.bigIntStringFromBN=e_;function t_(t){return(0,ft.IntNumber)(new Gt.default(Wn(t,!1),16).toNumber())}G.intNumberFromHexString=t_;function r_(t){return(0,ft.HexString)("0x"+new Gt.default(t).toString(16))}G.hexStringFromIntNumber=r_;function ec(t){return t.startsWith("0x")||t.startsWith("0X")}G.has0xPrefix=ec;function Gi(t){return ec(t)?t.slice(2):t}G.strip0x=Gi;function Uf(t){return ec(t)?"0x"+t.slice(2):"0x"+t}G.prepend0x=Uf;function Un(t){if(typeof t!="string")return!1;const e=Gi(t).toLowerCase();return Ff.test(e)}G.isHexString=Un;function Wf(t,e=!1){if(typeof t=="string"){const r=Gi(t).toLowerCase();if(Ff.test(r))return(0,ft.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}G.ensureHexString=Wf;function Wn(t,e=!1){let r=Wf(t,!1);return r.length%2===1&&(r=(0,ft.HexString)("0"+r)),e?(0,ft.HexString)("0x"+r):r}G.ensureEvenLengthHexString=Wn;function n_(t){if(typeof t=="string"){const e=Gi(t).toLowerCase();if(Un(e)&&e.length===40)return(0,ft.AddressString)(Uf(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}G.ensureAddressString=n_;function i_(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Un(t)){const e=Wn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}G.ensureBuffer=i_;function Hf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,ft.IntNumber)(t);if(typeof t=="string"){if(jf.test(t))return(0,ft.IntNumber)(Number(t));if(Un(t))return(0,ft.IntNumber)(new Gt.default(Wn(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}G.ensureIntNumber=Hf;function s_(t){if(t instanceof RegExp)return(0,ft.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}G.ensureRegExpString=s_;function o_(t){if(t!==null&&(Gt.default.isBN(t)||Vf(t)))return new Gt.default(t.toString(10),10);if(typeof t=="number")return new Gt.default(Hf(t));if(typeof t=="string"){if(jf.test(t))return new Gt.default(t,10);if(Un(t))return new Gt.default(Wn(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}G.ensureBN=o_;function a_(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}G.ensureParsedJSONObject=a_;function Vf(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}G.isBigNumber=Vf;function c_(t,e){return Array.from({length:e-t},(r,n)=>t+n)}G.range=c_;function u_(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}G.getFavicon=u_;function l_(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Ym.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}G.createQrUrl=l_;function f_(){try{return window.frameElement!==null}catch{return!1}}G.isInIFrame=f_;Object.defineProperty(Yr,"__esModule",{value:!0});Yr.Session=void 0;const h_=en,cu=Ui,uu=pf.exports,lu=G,ko="session:id",fu="session:secret",hu="session:linked";class tc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,lu.randomBytesHex)(16),this._secret=n||(0,lu.randomBytesHex)(32),this._key=new uu.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(ko),n=e.getItem(hu),i=e.getItem(fu);return r&&i?new tc(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,h_.fromEvent)(window,"storage").pipe((0,cu.filter)(e=>e.key===ko),(0,cu.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new uu.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(ko,this._id),this._storage.setItem(fu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(hu,this._linked?"1":"0")}}Yr.Session=tc;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.WalletSDKRelayAbstract=vt.APP_VERSION_KEY=vt.LOCAL_STORAGE_ADDRESSES_KEY=vt.WALLET_USER_NAME_KEY=void 0;const du=Pi;vt.WALLET_USER_NAME_KEY="walletUsername";vt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";vt.APP_VERSION_KEY="AppVersion";class d_{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw du.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,du.serializeError)(s);return i})}}vt.WalletSDKRelayAbstract=d_;var Ci={exports:{}},zf=Ni.exports.EventEmitter,Mo,pu;function p_(){if(pu)return Mo;pu=1;function t(p,v){var w=Object.keys(p);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(p);v&&(M=M.filter(function(O){return Object.getOwnPropertyDescriptor(p,O).enumerable})),w.push.apply(w,M)}return w}function e(p){for(var v=1;v<arguments.length;v++){var w=arguments[v]!=null?arguments[v]:{};v%2?t(Object(w),!0).forEach(function(M){r(p,M,w[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(M){Object.defineProperty(p,M,Object.getOwnPropertyDescriptor(w,M))})}return p}function r(p,v,w){return v in p?Object.defineProperty(p,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[v]=w,p}function n(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function i(p,v){for(var w=0;w<v.length;w++){var M=v[w];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(p,M.key,M)}}function s(p,v,w){return v&&i(p.prototype,v),w&&i(p,w),p}var o=Bn,a=o.Buffer,u=Na,f=u.inspect,h=f&&f.custom||"inspect";function _(p,v,w){a.prototype.copy.call(p,v,w)}return Mo=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return s(p,[{key:"push",value:function(w){var M={data:w,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length}},{key:"unshift",value:function(w){var M={data:w,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var M=this.head,O=""+M.data;M=M.next;)O+=w+M.data;return O}},{key:"concat",value:function(w){if(this.length===0)return a.alloc(0);for(var M=a.allocUnsafe(w>>>0),O=this.head,m=0;O;)_(O.data,M,m),m+=O.data.length,O=O.next;return M}},{key:"consume",value:function(w,M){var O;return w<this.head.data.length?(O=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?O=this.shift():O=M?this._getString(w):this._getBuffer(w),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var M=this.head,O=1,m=M.data;for(w-=m.length;M=M.next;){var S=M.data,A=w>S.length?S.length:w;if(A===S.length?m+=S:m+=S.slice(0,w),w-=A,w===0){A===S.length?(++O,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=S.slice(A));break}++O}return this.length-=O,m}},{key:"_getBuffer",value:function(w){var M=a.allocUnsafe(w),O=this.head,m=1;for(O.data.copy(M),w-=O.data.length;O=O.next;){var S=O.data,A=w>S.length?S.length:w;if(S.copy(M,M.length-w,0,A),w-=A,w===0){A===S.length?(++m,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=S.slice(A));break}++m}return this.length-=m,M}},{key:h,value:function(w,M){return f(this,e({},M,{depth:0,customInspect:!1}))}}]),p}(),Mo}function b_(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(xa,this,t)):process.nextTick(xa,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(ci,r):(r._writableState.errorEmitted=!0,process.nextTick(bu,r,s)):process.nextTick(bu,r,s):e?(process.nextTick(ci,r),e(s)):process.nextTick(ci,r)}),this)}function bu(t,e){xa(t,e),ci(t)}function ci(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function y_(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function xa(t,e){t.emit("error",e)}function g_(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var qf={destroy:b_,undestroy:y_,errorOrDestroy:g_},mr={};function v_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Gf={};function pt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){v_(o,s);function o(a,u,f){return s.call(this,n(a,u,f))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Gf[t]=i}function yu(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function m_(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function __(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function w_(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}pt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);pt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&m_(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(__(t," argument"))i="The ".concat(t," ").concat(n," ").concat(yu(e,"type"));else{var s=w_(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(yu(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);pt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");pt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});pt("ERR_STREAM_PREMATURE_CLOSE","Premature close");pt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});pt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");pt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");pt("ERR_STREAM_WRITE_AFTER_END","write after end");pt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);pt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);pt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");mr.codes=Gf;var S_=mr.codes.ERR_INVALID_OPT_VALUE;function E_(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function x_(t,e,r,n){var i=E_(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new S_(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Qf={getHighWaterMark:x_},C_=I_;function I_(t,e){if(Ro("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ro("throwDeprecation"))throw new Error(e);Ro("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Ro(t){try{if(!ne.localStorage)return!1}catch{return!1}var e=ne.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var To,gu;function Zf(){if(gu)return To;gu=1,To=V;function t(E){var C=this;this.next=null,this.entry=null,this.finish=function(){Z(C,E)}}var e;V.WritableState=z;var r={deprecate:C_},n=zf,i=Bn.Buffer,s=ne.Uint8Array||function(){};function o(E){return i.from(E)}function a(E){return i.isBuffer(E)||E instanceof s}var u=qf,f=Qf,h=f.getHighWaterMark,_=mr.codes,p=_.ERR_INVALID_ARG_TYPE,v=_.ERR_METHOD_NOT_IMPLEMENTED,w=_.ERR_MULTIPLE_CALLBACK,M=_.ERR_STREAM_CANNOT_PIPE,O=_.ERR_STREAM_DESTROYED,m=_.ERR_STREAM_NULL_VALUES,S=_.ERR_STREAM_WRITE_AFTER_END,A=_.ERR_UNKNOWN_ENCODING,B=u.errorOrDestroy;ht.exports(V,n);function $(){}function z(E,C,R){e=e||Wr(),E=E||{},typeof R!="boolean"&&(R=C instanceof e),this.objectMode=!!E.objectMode,R&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=h(this,E,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=E.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){Se(C,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}z.prototype.getBuffer=function(){for(var C=this.bufferedRequest,R=[];C;)R.push(C),C=C.next;return R},function(){try{Object.defineProperty(z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(C){return q.call(this,C)?!0:this!==V?!1:C&&C._writableState instanceof z}})):q=function(C){return C instanceof this};function V(E){e=e||Wr();var C=this instanceof e;if(!C&&!q.call(V,this))return new V(E);this._writableState=new z(E,this,C),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),n.call(this)}V.prototype.pipe=function(){B(this,new M)};function W(E,C){var R=new S;B(E,R),process.nextTick(C,R)}function de(E,C,R,F){var H;return R===null?H=new m:typeof R!="string"&&!C.objectMode&&(H=new p("chunk",["string","Buffer"],R)),H?(B(E,H),process.nextTick(F,H),!1):!0}V.prototype.write=function(E,C,R){var F=this._writableState,H=!1,b=!F.objectMode&&a(E);return b&&!i.isBuffer(E)&&(E=o(E)),typeof C=="function"&&(R=C,C=null),b?C="buffer":C||(C=F.defaultEncoding),typeof R!="function"&&(R=$),F.ending?W(this,R):(b||de(this,F,E,R))&&(F.pendingcb++,H=K(this,F,b,E,C,R)),H},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,!E.writing&&!E.corked&&!E.bufferProcessing&&E.bufferedRequest&&ve(this,E))},V.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new A(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(E,C,R){return!E.objectMode&&E.decodeStrings!==!1&&typeof C=="string"&&(C=i.from(C,R)),C}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(E,C,R,F,H,b){if(!R){var g=ce(C,F,H);F!==g&&(R=!0,H="buffer",F=g)}var P=C.objectMode?1:F.length;C.length+=P;var U=C.length<C.highWaterMark;if(U||(C.needDrain=!0),C.writing||C.corked){var be=C.lastBufferedRequest;C.lastBufferedRequest={chunk:F,encoding:H,isBuf:R,callback:b,next:null},be?be.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else re(E,C,!1,P,F,H,b);return U}function re(E,C,R,F,H,b,g){C.writelen=F,C.writecb=g,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new O("write")):R?E._writev(H,C.onwrite):E._write(H,b,C.onwrite),C.sync=!1}function oe(E,C,R,F,H){--C.pendingcb,R?(process.nextTick(H,F),process.nextTick(T,E,C),E._writableState.errorEmitted=!0,B(E,F)):(H(F),E._writableState.errorEmitted=!0,B(E,F),T(E,C))}function ue(E){E.writing=!1,E.writecb=null,E.length-=E.writelen,E.writelen=0}function Se(E,C){var R=E._writableState,F=R.sync,H=R.writecb;if(typeof H!="function")throw new w;if(ue(R),C)oe(E,R,F,C,H);else{var b=Le(R)||E.destroyed;!b&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&ve(E,R),F?process.nextTick(Oe,E,R,b,H):Oe(E,R,b,H)}}function Oe(E,C,R,F){R||Te(E,C),C.pendingcb--,F(),T(E,C)}function Te(E,C){C.length===0&&C.needDrain&&(C.needDrain=!1,E.emit("drain"))}function ve(E,C){C.bufferProcessing=!0;var R=C.bufferedRequest;if(E._writev&&R&&R.next){var F=C.bufferedRequestCount,H=new Array(F),b=C.corkedRequestsFree;b.entry=R;for(var g=0,P=!0;R;)H[g]=R,R.isBuf||(P=!1),R=R.next,g+=1;H.allBuffers=P,re(E,C,!0,C.length,H,"",b.finish),C.pendingcb++,C.lastBufferedRequest=null,b.next?(C.corkedRequestsFree=b.next,b.next=null):C.corkedRequestsFree=new t(C),C.bufferedRequestCount=0}else{for(;R;){var U=R.chunk,be=R.encoding,X=R.callback,le=C.objectMode?1:U.length;if(re(E,C,!1,le,U,be,X),R=R.next,C.bufferedRequestCount--,C.writing)break}R===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=R,C.bufferProcessing=!1}V.prototype._write=function(E,C,R){R(new v("_write()"))},V.prototype._writev=null,V.prototype.end=function(E,C,R){var F=this._writableState;return typeof E=="function"?(R=E,E=null,C=null):typeof C=="function"&&(R=C,C=null),E!=null&&this.write(E,C),F.corked&&(F.corked=1,this.uncork()),F.ending||j(this,F,R),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Le(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function pe(E,C){E._final(function(R){C.pendingcb--,R&&B(E,R),C.prefinished=!0,E.emit("prefinish"),T(E,C)})}function I(E,C){!C.prefinished&&!C.finalCalled&&(typeof E._final=="function"&&!C.destroyed?(C.pendingcb++,C.finalCalled=!0,process.nextTick(pe,E,C)):(C.prefinished=!0,E.emit("prefinish")))}function T(E,C){var R=Le(C);if(R&&(I(E,C),C.pendingcb===0&&(C.finished=!0,E.emit("finish"),C.autoDestroy))){var F=E._readableState;(!F||F.autoDestroy&&F.endEmitted)&&E.destroy()}return R}function j(E,C,R){C.ending=!0,T(E,C),R&&(C.finished?process.nextTick(R):E.once("finish",R)),C.ended=!0,E.writable=!1}function Z(E,C,R){var F=E.entry;for(E.entry=null;F;){var H=F.callback;C.pendingcb--,H(R),F=F.next}C.corkedRequestsFree.next=E}return Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(C){!this._writableState||(this._writableState.destroyed=C)}}),V.prototype.destroy=u.destroy,V.prototype._undestroy=u.undestroy,V.prototype._destroy=function(E,C){C(E)},To}var Oo,vu;function Wr(){if(vu)return Oo;vu=1;var t=Object.keys||function(f){var h=[];for(var _ in f)h.push(_);return h};Oo=o;var e=Kf(),r=Zf();ht.exports(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(f){if(!(this instanceof o))return new o(f);e.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),Oo}var No={},mu;function _u(){if(mu)return No;mu=1;var t=Tt.exports.Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var S;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(S)return;m=(""+m).toLowerCase(),S=!0}}function n(m){var S=r(m);if(typeof S!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return S||m}No.StringDecoder=i;function i(m){this.encoding=n(m);var S;switch(this.encoding){case"utf16le":this.text=_,this.end=p,S=4;break;case"utf8":this.fillLast=u,S=4;break;case"base64":this.text=v,this.end=w,S=3;break;default:this.write=M,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(S)}i.prototype.write=function(m){if(m.length===0)return"";var S,A;if(this.lastNeed){if(S=this.fillLast(m),S===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<m.length?S?S+this.text(m,A):this.text(m,A):S||""},i.prototype.end=h,i.prototype.text=f,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function o(m,S,A){var B=S.length-1;if(B<A)return 0;var $=s(S[B]);return $>=0?($>0&&(m.lastNeed=$-1),$):--B<A||$===-2?0:($=s(S[B]),$>=0?($>0&&(m.lastNeed=$-2),$):--B<A||$===-2?0:($=s(S[B]),$>=0?($>0&&($===2?$=0:m.lastNeed=$-3),$):0))}function a(m,S,A){if((S[0]&192)!==128)return m.lastNeed=0,"\uFFFD";if(m.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return m.lastNeed=1,"\uFFFD";if(m.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return m.lastNeed=2,"\uFFFD"}}function u(m){var S=this.lastTotal-this.lastNeed,A=a(this,m);if(A!==void 0)return A;if(this.lastNeed<=m.length)return m.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,S,0,m.length),this.lastNeed-=m.length}function f(m,S){var A=o(this,m,S);if(!this.lastNeed)return m.toString("utf8",S);this.lastTotal=A;var B=m.length-(A-this.lastNeed);return m.copy(this.lastChar,0,B),m.toString("utf8",S,B)}function h(m){var S=m&&m.length?this.write(m):"";return this.lastNeed?S+"\uFFFD":S}function _(m,S){if((m.length-S)%2===0){var A=m.toString("utf16le",S);if(A){var B=A.charCodeAt(A.length-1);if(B>=55296&&B<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",S,m.length-1)}function p(m){var S=m&&m.length?this.write(m):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,A)}return S}function v(m,S){var A=(m.length-S)%3;return A===0?m.toString("base64",S):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",S,m.length-A))}function w(m){var S=m&&m.length?this.write(m):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function M(m){return m.toString(this.encoding)}function O(m){return m&&m.length?this.write(m):""}return No}var wu=mr.codes.ERR_STREAM_PREMATURE_CLOSE;function A_(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function k_(){}function M_(t){return t.setHeader&&typeof t.abort=="function"}function Yf(t,e,r){if(typeof e=="function")return Yf(t,null,e);e||(e={}),r=A_(r||k_);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,u=!0,i||r.call(t)},h=function(w){r.call(t,w)},_=function(){var w;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(w=new wu),r.call(t,w);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(w=new wu),r.call(t,w)},p=function(){t.req.on("finish",a)};return M_(t)?(t.on("complete",a),t.on("abort",_),t.req?p():t.on("request",p)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",f),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",_),function(){t.removeListener("complete",a),t.removeListener("abort",_),t.removeListener("request",p),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",_)}}var rc=Yf,Bo,Su;function R_(){if(Su)return Bo;Su=1;var t;function e(m,S,A){return S in m?Object.defineProperty(m,S,{value:A,enumerable:!0,configurable:!0,writable:!0}):m[S]=A,m}var r=rc,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function h(m,S){return{value:m,done:S}}function _(m){var S=m[n];if(S!==null){var A=m[f].read();A!==null&&(m[a]=null,m[n]=null,m[i]=null,S(h(A,!1)))}}function p(m){process.nextTick(_,m)}function v(m,S){return function(A,B){m.then(function(){if(S[o]){A(h(void 0,!0));return}S[u](A,B)},B)}}var w=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var S=this,A=this[s];if(A!==null)return Promise.reject(A);if(this[o])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(q,V){process.nextTick(function(){S[s]?V(S[s]):q(h(void 0,!0))})});var B=this[a],$;if(B)$=new Promise(v(B,this));else{var z=this[f].read();if(z!==null)return Promise.resolve(h(z,!1));$=new Promise(this[u])}return this[a]=$,$}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var S=this;return new Promise(function(A,B){S[f].destroy(null,function($){if($){B($);return}A(h(void 0,!0))})})}),t),w),O=function(S){var A,B=Object.create(M,(A={},e(A,f,{value:S,writable:!0}),e(A,n,{value:null,writable:!0}),e(A,i,{value:null,writable:!0}),e(A,s,{value:null,writable:!0}),e(A,o,{value:S._readableState.endEmitted,writable:!0}),e(A,u,{value:function(z,q){var V=B[f].read();V?(B[a]=null,B[n]=null,B[i]=null,z(h(V,!1))):(B[n]=z,B[i]=q)},writable:!0}),A));return B[a]=null,r(S,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=B[i];z!==null&&(B[a]=null,B[n]=null,B[i]=null,z($)),B[s]=$;return}var q=B[n];q!==null&&(B[a]=null,B[n]=null,B[i]=null,q(h(void 0,!0))),B[o]=!0}),S.on("readable",p.bind(null,B)),B};return Bo=O,Bo}var Lo,Eu;function T_(){return Eu||(Eu=1,Lo=function(){throw new Error("Readable.from is not available in the browser")}),Lo}var Po,xu;function Kf(){if(xu)return Po;xu=1,Po=W;var t;W.ReadableState=V,Ni.exports.EventEmitter;var e=function(g,P){return g.listeners(P).length},r=zf,n=Bn.Buffer,i=ne.Uint8Array||function(){};function s(b){return n.from(b)}function o(b){return n.isBuffer(b)||b instanceof i}var a=Na,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var f=p_(),h=qf,_=Qf,p=_.getHighWaterMark,v=mr.codes,w=v.ERR_INVALID_ARG_TYPE,M=v.ERR_STREAM_PUSH_AFTER_EOF,O=v.ERR_METHOD_NOT_IMPLEMENTED,m=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,A,B;ht.exports(W,r);var $=h.errorOrDestroy,z=["error","close","destroy","pause","resume"];function q(b,g,P){if(typeof b.prependListener=="function")return b.prependListener(g,P);!b._events||!b._events[g]?b.on(g,P):Array.isArray(b._events[g])?b._events[g].unshift(P):b._events[g]=[P,b._events[g]]}function V(b,g,P){t=t||Wr(),b=b||{},typeof P!="boolean"&&(P=g instanceof t),this.objectMode=!!b.objectMode,P&&(this.objectMode=this.objectMode||!!b.readableObjectMode),this.highWaterMark=p(this,b,"readableHighWaterMark",P),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=b.emitClose!==!1,this.autoDestroy=!!b.autoDestroy,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(S||(S=_u().StringDecoder),this.decoder=new S(b.encoding),this.encoding=b.encoding)}function W(b){if(t=t||Wr(),!(this instanceof W))return new W(b);var g=this instanceof t;this._readableState=new V(b,this,g),this.readable=!0,b&&(typeof b.read=="function"&&(this._read=b.read),typeof b.destroy=="function"&&(this._destroy=b.destroy)),r.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(g){!this._readableState||(this._readableState.destroyed=g)}}),W.prototype.destroy=h.destroy,W.prototype._undestroy=h.undestroy,W.prototype._destroy=function(b,g){g(b)},W.prototype.push=function(b,g){var P=this._readableState,U;return P.objectMode?U=!0:typeof b=="string"&&(g=g||P.defaultEncoding,g!==P.encoding&&(b=n.from(b,g),g=""),U=!0),de(this,b,g,!1,U)},W.prototype.unshift=function(b){return de(this,b,null,!0,!1)};function de(b,g,P,U,be){u("readableAddChunk",g);var X=b._readableState;if(g===null)X.reading=!1,Se(b,X);else{var le;if(be||(le=K(X,g)),le)$(b,le);else if(X.objectMode||g&&g.length>0)if(typeof g!="string"&&!X.objectMode&&Object.getPrototypeOf(g)!==n.prototype&&(g=s(g)),U)X.endEmitted?$(b,new m):ce(b,X,g,!0);else if(X.ended)$(b,new M);else{if(X.destroyed)return!1;X.reading=!1,X.decoder&&!P?(g=X.decoder.write(g),X.objectMode||g.length!==0?ce(b,X,g,!1):ve(b,X)):ce(b,X,g,!1)}else U||(X.reading=!1,ve(b,X))}return!X.ended&&(X.length<X.highWaterMark||X.length===0)}function ce(b,g,P,U){g.flowing&&g.length===0&&!g.sync?(g.awaitDrain=0,b.emit("data",P)):(g.length+=g.objectMode?1:P.length,U?g.buffer.unshift(P):g.buffer.push(P),g.needReadable&&Oe(b)),ve(b,g)}function K(b,g){var P;return!o(g)&&typeof g!="string"&&g!==void 0&&!b.objectMode&&(P=new w("chunk",["string","Buffer","Uint8Array"],g)),P}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(b){S||(S=_u().StringDecoder);var g=new S(b);this._readableState.decoder=g,this._readableState.encoding=this._readableState.decoder.encoding;for(var P=this._readableState.buffer.head,U="";P!==null;)U+=g.write(P.data),P=P.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var re=1073741824;function oe(b){return b>=re?b=re:(b--,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,b|=b>>>16,b++),b}function ue(b,g){return b<=0||g.length===0&&g.ended?0:g.objectMode?1:b!==b?g.flowing&&g.length?g.buffer.head.data.length:g.length:(b>g.highWaterMark&&(g.highWaterMark=oe(b)),b<=g.length?b:g.ended?g.length:(g.needReadable=!0,0))}W.prototype.read=function(b){u("read",b),b=parseInt(b,10);var g=this._readableState,P=b;if(b!==0&&(g.emittedReadable=!1),b===0&&g.needReadable&&((g.highWaterMark!==0?g.length>=g.highWaterMark:g.length>0)||g.ended))return u("read: emitReadable",g.length,g.ended),g.length===0&&g.ended?R(this):Oe(this),null;if(b=ue(b,g),b===0&&g.ended)return g.length===0&&R(this),null;var U=g.needReadable;u("need readable",U),(g.length===0||g.length-b<g.highWaterMark)&&(U=!0,u("length less than watermark",U)),g.ended||g.reading?(U=!1,u("reading or ended",U)):U&&(u("do read"),g.reading=!0,g.sync=!0,g.length===0&&(g.needReadable=!0),this._read(g.highWaterMark),g.sync=!1,g.reading||(b=ue(P,g)));var be;return b>0?be=C(b,g):be=null,be===null?(g.needReadable=g.length<=g.highWaterMark,b=0):(g.length-=b,g.awaitDrain=0),g.length===0&&(g.ended||(g.needReadable=!0),P!==b&&g.ended&&R(this)),be!==null&&this.emit("data",be),be};function Se(b,g){if(u("onEofChunk"),!g.ended){if(g.decoder){var P=g.decoder.end();P&&P.length&&(g.buffer.push(P),g.length+=g.objectMode?1:P.length)}g.ended=!0,g.sync?Oe(b):(g.needReadable=!1,g.emittedReadable||(g.emittedReadable=!0,Te(b)))}}function Oe(b){var g=b._readableState;u("emitReadable",g.needReadable,g.emittedReadable),g.needReadable=!1,g.emittedReadable||(u("emitReadable",g.flowing),g.emittedReadable=!0,process.nextTick(Te,b))}function Te(b){var g=b._readableState;u("emitReadable_",g.destroyed,g.length,g.ended),!g.destroyed&&(g.length||g.ended)&&(b.emit("readable"),g.emittedReadable=!1),g.needReadable=!g.flowing&&!g.ended&&g.length<=g.highWaterMark,E(b)}function ve(b,g){g.readingMore||(g.readingMore=!0,process.nextTick(Le,b,g))}function Le(b,g){for(;!g.reading&&!g.ended&&(g.length<g.highWaterMark||g.flowing&&g.length===0);){var P=g.length;if(u("maybeReadMore read 0"),b.read(0),P===g.length)break}g.readingMore=!1}W.prototype._read=function(b){$(this,new O("_read()"))},W.prototype.pipe=function(b,g){var P=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=b;break;case 1:U.pipes=[U.pipes,b];break;default:U.pipes.push(b);break}U.pipesCount+=1,u("pipe count=%d opts=%j",U.pipesCount,g);var be=(!g||g.end!==!1)&&b!==process.stdout&&b!==process.stderr,X=be?et:St;U.endEmitted?process.nextTick(X):P.once("end",X),b.on("unpipe",le);function le(d,c){u("onunpipe"),d===P&&c&&c.hasUnpiped===!1&&(c.hasUnpiped=!0,_t())}function et(){u("onend"),b.end()}var L=pe(P);b.on("drain",L);var mt=!1;function _t(){u("cleanup"),b.removeListener("close",$t),b.removeListener("finish",Ze),b.removeListener("drain",L),b.removeListener("error",wt),b.removeListener("unpipe",le),P.removeListener("end",et),P.removeListener("end",St),P.removeListener("data",He),mt=!0,U.awaitDrain&&(!b._writableState||b._writableState.needDrain)&&L()}P.on("data",He);function He(d){u("ondata");var c=b.write(d);u("dest.write",c),c===!1&&((U.pipesCount===1&&U.pipes===b||U.pipesCount>1&&H(U.pipes,b)!==-1)&&!mt&&(u("false write response, pause",U.awaitDrain),U.awaitDrain++),P.pause())}function wt(d){u("onerror",d),St(),b.removeListener("error",wt),e(b,"error")===0&&$(b,d)}q(b,"error",wt);function $t(){b.removeListener("finish",Ze),St()}b.once("close",$t);function Ze(){u("onfinish"),b.removeListener("close",$t),St()}b.once("finish",Ze);function St(){u("unpipe"),P.unpipe(b)}return b.emit("pipe",P),U.flowing||(u("pipe resume"),P.resume()),b};function pe(b){return function(){var P=b._readableState;u("pipeOnDrain",P.awaitDrain),P.awaitDrain&&P.awaitDrain--,P.awaitDrain===0&&e(b,"data")&&(P.flowing=!0,E(b))}}W.prototype.unpipe=function(b){var g=this._readableState,P={hasUnpiped:!1};if(g.pipesCount===0)return this;if(g.pipesCount===1)return b&&b!==g.pipes?this:(b||(b=g.pipes),g.pipes=null,g.pipesCount=0,g.flowing=!1,b&&b.emit("unpipe",this,P),this);if(!b){var U=g.pipes,be=g.pipesCount;g.pipes=null,g.pipesCount=0,g.flowing=!1;for(var X=0;X<be;X++)U[X].emit("unpipe",this,{hasUnpiped:!1});return this}var le=H(g.pipes,b);return le===-1?this:(g.pipes.splice(le,1),g.pipesCount-=1,g.pipesCount===1&&(g.pipes=g.pipes[0]),b.emit("unpipe",this,P),this)},W.prototype.on=function(b,g){var P=r.prototype.on.call(this,b,g),U=this._readableState;return b==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):b==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,u("on readable",U.length,U.reading),U.length?Oe(this):U.reading||process.nextTick(T,this)),P},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(b,g){var P=r.prototype.removeListener.call(this,b,g);return b==="readable"&&process.nextTick(I,this),P},W.prototype.removeAllListeners=function(b){var g=r.prototype.removeAllListeners.apply(this,arguments);return(b==="readable"||b===void 0)&&process.nextTick(I,this),g};function I(b){var g=b._readableState;g.readableListening=b.listenerCount("readable")>0,g.resumeScheduled&&!g.paused?g.flowing=!0:b.listenerCount("data")>0&&b.resume()}function T(b){u("readable nexttick read 0"),b.read(0)}W.prototype.resume=function(){var b=this._readableState;return b.flowing||(u("resume"),b.flowing=!b.readableListening,j(this,b)),b.paused=!1,this};function j(b,g){g.resumeScheduled||(g.resumeScheduled=!0,process.nextTick(Z,b,g))}function Z(b,g){u("resume",g.reading),g.reading||b.read(0),g.resumeScheduled=!1,b.emit("resume"),E(b),g.flowing&&!g.reading&&b.read(0)}W.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function E(b){var g=b._readableState;for(u("flow",g.flowing);g.flowing&&b.read()!==null;);}W.prototype.wrap=function(b){var g=this,P=this._readableState,U=!1;b.on("end",function(){if(u("wrapped end"),P.decoder&&!P.ended){var le=P.decoder.end();le&&le.length&&g.push(le)}g.push(null)}),b.on("data",function(le){if(u("wrapped data"),P.decoder&&(le=P.decoder.write(le)),!(P.objectMode&&le==null)&&!(!P.objectMode&&(!le||!le.length))){var et=g.push(le);et||(U=!0,b.pause())}});for(var be in b)this[be]===void 0&&typeof b[be]=="function"&&(this[be]=function(et){return function(){return b[et].apply(b,arguments)}}(be));for(var X=0;X<z.length;X++)b.on(z[X],this.emit.bind(this,z[X]));return this._read=function(le){u("wrapped _read",le),U&&(U=!1,b.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=R_()),A(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(g){this._readableState&&(this._readableState.flowing=g)}}),W._fromList=C,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function C(b,g){if(g.length===0)return null;var P;return g.objectMode?P=g.buffer.shift():!b||b>=g.length?(g.decoder?P=g.buffer.join(""):g.buffer.length===1?P=g.buffer.first():P=g.buffer.concat(g.length),g.buffer.clear()):P=g.buffer.consume(b,g.decoder),P}function R(b){var g=b._readableState;u("endReadable",g.endEmitted),g.endEmitted||(g.ended=!0,process.nextTick(F,g,b))}function F(b,g){if(u("endReadableNT",b.endEmitted,b.length),!b.endEmitted&&b.length===0&&(b.endEmitted=!0,g.readable=!1,g.emit("end"),b.autoDestroy)){var P=g._writableState;(!P||P.autoDestroy&&P.finished)&&g.destroy()}}typeof Symbol=="function"&&(W.from=function(b,g){return B===void 0&&(B=T_()),B(W,b,g)});function H(b,g){for(var P=0,U=b.length;P<U;P++)if(b[P]===g)return P;return-1}return Po}var Jf=jt,Qi=mr.codes,O_=Qi.ERR_METHOD_NOT_IMPLEMENTED,N_=Qi.ERR_MULTIPLE_CALLBACK,B_=Qi.ERR_TRANSFORM_ALREADY_TRANSFORMING,L_=Qi.ERR_TRANSFORM_WITH_LENGTH_0,Zi=Wr();ht.exports(jt,Zi);function P_(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new N_);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function jt(t){if(!(this instanceof jt))return new jt(t);Zi.call(this,t),this._transformState={afterTransform:P_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",D_)}function D_(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Cu(t,e,r)}):Cu(this,null,null)}jt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Zi.prototype.push.call(this,t,e)};jt.prototype._transform=function(t,e,r){r(new O_("_transform()"))};jt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};jt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};jt.prototype._destroy=function(t,e){Zi.prototype._destroy.call(this,t,function(r){e(r)})};function Cu(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new L_;if(t._transformState.transforming)throw new B_;return t.push(null)}var j_=In,Xf=Jf;ht.exports(In,Xf);function In(t){if(!(this instanceof In))return new In(t);Xf.call(this,t)}In.prototype._transform=function(t,e,r){r(null,t)};var Do;function F_(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var eh=mr.codes,$_=eh.ERR_MISSING_ARGS,U_=eh.ERR_STREAM_DESTROYED;function Iu(t){if(t)throw t}function W_(t){return t.setHeader&&typeof t.abort=="function"}function H_(t,e,r,n){n=F_(n);var i=!1;t.on("close",function(){i=!0}),Do===void 0&&(Do=rc),Do(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,W_(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new U_("pipe"))}}}function Au(t){t()}function V_(t,e){return t.pipe(e)}function z_(t){return!t.length||typeof t[t.length-1]!="function"?Iu:t.pop()}function q_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=z_(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new $_("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,f=a>0;return H_(o,u,f,function(h){i||(i=h),h&&s.forEach(Au),!u&&(s.forEach(Au),n(i))})});return e.reduce(V_)}var G_=q_;(function(t,e){e=t.exports=Kf(),e.Stream=e,e.Readable=e,e.Writable=Zf(),e.Duplex=Wr(),e.Transform=Jf,e.PassThrough=j_,e.finished=rc,e.pipeline=G_})(Ci,Ci.exports);const{Transform:Q_}=Ci.exports;var Z_=t=>class th extends Q_{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new th(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Y_}=Ci.exports;var K_=t=>class rh extends Y_{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new rh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const J_=Z_,X_=K_;var ew=function(t){const e=J_(t),r=X_(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},nh={};const ku=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];nh.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],_=t[9]^t[19]^t[29]^t[39]^t[49];let p=h^(i<<1|s>>>31),v=_^(s<<1|i>>>31);const w=t[0]^p,M=t[1]^v,O=t[10]^p,m=t[11]^v,S=t[20]^p,A=t[21]^v,B=t[30]^p,$=t[31]^v,z=t[40]^p,q=t[41]^v;p=r^(o<<1|a>>>31),v=n^(a<<1|o>>>31);const V=t[2]^p,W=t[3]^v,de=t[12]^p,ce=t[13]^v,K=t[22]^p,re=t[23]^v,oe=t[32]^p,ue=t[33]^v,Se=t[42]^p,Oe=t[43]^v;p=i^(u<<1|f>>>31),v=s^(f<<1|u>>>31);const Te=t[4]^p,ve=t[5]^v,Le=t[14]^p,pe=t[15]^v,I=t[24]^p,T=t[25]^v,j=t[34]^p,Z=t[35]^v,E=t[44]^p,C=t[45]^v;p=o^(h<<1|_>>>31),v=a^(_<<1|h>>>31);const R=t[6]^p,F=t[7]^v,H=t[16]^p,b=t[17]^v,g=t[26]^p,P=t[27]^v,U=t[36]^p,be=t[37]^v,X=t[46]^p,le=t[47]^v;p=u^(r<<1|n>>>31),v=f^(n<<1|r>>>31);const et=t[8]^p,L=t[9]^v,mt=t[18]^p,_t=t[19]^v,He=t[28]^p,wt=t[29]^v,$t=t[38]^p,Ze=t[39]^v,St=t[48]^p,d=t[49]^v,c=w,l=M,y=m<<4|O>>>28,x=O<<4|m>>>28,k=S<<3|A>>>29,N=A<<3|S>>>29,te=$<<9|B>>>23,_e=B<<9|$>>>23,me=z<<18|q>>>14,we=q<<18|z>>>14,ye=V<<1|W>>>31,Os=W<<1|V>>>31,Ns=ce<<12|de>>>20,Bs=de<<12|ce>>>20,Ls=K<<10|re>>>22,Ps=re<<10|K>>>22,Ds=ue<<13|oe>>>19,js=oe<<13|ue>>>19,Fs=Se<<2|Oe>>>30,$s=Oe<<2|Se>>>30,Us=ve<<30|Te>>>2,Ws=Te<<30|ve>>>2,Hs=Le<<6|pe>>>26,Vs=pe<<6|Le>>>26,zs=T<<11|I>>>21,qs=I<<11|T>>>21,Gs=j<<15|Z>>>17,Qs=Z<<15|j>>>17,Zs=C<<29|E>>>3,Ys=E<<29|C>>>3,Ks=R<<28|F>>>4,Js=F<<28|R>>>4,Xs=b<<23|H>>>9,eo=H<<23|b>>>9,to=g<<25|P>>>7,ro=P<<25|g>>>7,no=U<<21|be>>>11,io=be<<21|U>>>11,so=le<<24|X>>>8,oo=X<<24|le>>>8,ao=et<<27|L>>>5,co=L<<27|et>>>5,uo=mt<<20|_t>>>12,lo=_t<<20|mt>>>12,fo=wt<<7|He>>>25,ho=He<<7|wt>>>25,po=$t<<8|Ze>>>24,bo=Ze<<8|$t>>>24,yo=St<<14|d>>>18,go=d<<14|St>>>18;t[0]=c^~Ns&zs,t[1]=l^~Bs&qs,t[10]=Ks^~uo&k,t[11]=Js^~lo&N,t[20]=ye^~Hs&to,t[21]=Os^~Vs&ro,t[30]=ao^~y&Ls,t[31]=co^~x&Ps,t[40]=Us^~Xs&fo,t[41]=Ws^~eo&ho,t[2]=Ns^~zs&no,t[3]=Bs^~qs&io,t[12]=uo^~k&Ds,t[13]=lo^~N&js,t[22]=Hs^~to&po,t[23]=Vs^~ro&bo,t[32]=y^~Ls&Gs,t[33]=x^~Ps&Qs,t[42]=Xs^~fo&te,t[43]=eo^~ho&_e,t[4]=zs^~no&yo,t[5]=qs^~io&go,t[14]=k^~Ds&Zs,t[15]=N^~js&Ys,t[24]=to^~po&me,t[25]=ro^~bo&we,t[34]=Ls^~Gs&so,t[35]=Ps^~Qs&oo,t[44]=fo^~te&Fs,t[45]=ho^~_e&$s,t[6]=no^~yo&c,t[7]=io^~go&l,t[16]=Ds^~Zs&Ks,t[17]=js^~Ys&Js,t[26]=po^~me&ye,t[27]=bo^~we&Os,t[36]=Gs^~so&ao,t[37]=Qs^~oo&co,t[46]=te^~Fs&Us,t[47]=_e^~$s&Ws,t[8]=yo^~c&Ns,t[9]=go^~l&Bs,t[18]=Zs^~Ks&uo,t[19]=Ys^~Js&lo,t[28]=me^~ye&Hs,t[29]=we^~Os&Vs,t[38]=so^~ao&y,t[39]=oo^~co&x,t[48]=Fs^~Us&Xs,t[49]=$s^~Ws&eo,t[0]^=ku[e*2],t[1]^=ku[e*2+1]}};const Ii=nh;function nn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}nn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};nn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Ii.p1600(this.state),this.count=0)};nn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&Ii.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Ii.p1600(this.state),this.count=0,this.squeezing=!0};nn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Ii.p1600(this.state),this.count=0);return e};nn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var tw=nn,rw=ew(tw);const nw=rw,iw=Oi.exports;function ih(t){return Buffer.allocUnsafe(t).fill(0)}function sh(t,e,r){const n=ih(e);return t=Yi(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function sw(t,e){return sh(t,e,!0)}function Yi(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")oh(t)?t=Buffer.from(cw(ah(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(iw.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function ow(t){return t=Yi(t),"0x"+t.toString("hex")}function aw(t,e){return t=Yi(t),e||(e=256),nw("keccak"+e).update(t).digest()}function cw(t){return t.length%2?"0"+t:t}function oh(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function ah(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var ch={zeros:ih,setLength:sh,setLengthRight:sw,isHexString:oh,stripHexPrefix:ah,toBuffer:Yi,bufferToHex:ow,keccak:aw};const yr=ch,fr=Oi.exports;function uh(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Or(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Mu(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function lh(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function cr(t){var e=typeof t;if(e==="string")return yr.isHexString(t)?new fr(yr.stripHexPrefix(t),16):new fr(t,10);if(e==="number")return new fr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function It(t,e){var r,n,i,s;if(t==="address")return It("uint160",cr(e));if(t==="bool")return It("uint8",e?1:0);if(t==="string")return It("bytes",new Buffer(e,"utf8"));if(lw(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=lh(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(It(t,e[s]));if(r==="dynamic"){var o=It("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([It("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,yr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Or(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return yr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Or(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=cr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Or(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=cr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Mu(t),n=cr(e),n<0)throw new Error("Supplied ufixed is negative");return It("uint256",n.mul(new fr(2).pow(new fr(r[1]))))}else if(t.startsWith("fixed"))return r=Mu(t),It("int256",cr(e).mul(new fr(2).pow(new fr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function uw(t){return t==="string"||t==="bytes"||lh(t)==="dynamic"}function lw(t){return t.lastIndexOf("]")===t.length-1}function fw(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=uh(t[s]),a=e[s],u=It(o,a);uw(o)?(r.push(It("uint256",i)),n.push(u),i+=u.length):r.push(u)}return Buffer.concat(r.concat(n))}function fh(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=uh(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(yr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Or(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(yr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Or(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=cr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Or(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=cr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function hw(t,e){return yr.keccak(fh(t,e))}var dw={rawEncode:fw,solidityPack:fh,soliditySHA3:hw};const yt=ch,gn=dw,hh={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},jo={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,u,f)=>{if(r[u]!==void 0)return["bytes32",f==null?"0x0000000000000000000000000000000000000000000000000000000000000000":yt.keccak(this.encodeData(u,f,r,n))];if(f===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",yt.keccak(f)];if(u==="string")return typeof f=="string"&&(f=Buffer.from(f,"utf8")),["bytes32",yt.keccak(f)];if(u.lastIndexOf("]")===u.length-1){const h=u.slice(0,u.lastIndexOf("[")),_=f.map(p=>o(a,h,p));return["bytes32",yt.keccak(gn.rawEncode(_.map(([p])=>p),_.map(([,p])=>p)))]}return[u,f]};for(const a of r[t]){const[u,f]=o(a.name,a.type,e[a.name]);i.push(u),s.push(f)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=yt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=yt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=yt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return gn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return yt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return yt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in hh.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),yt.keccak(Buffer.concat(n))}};var pw={TYPED_MESSAGE_SCHEMA:hh,TypedDataUtils:jo,hashForSignTypedDataLegacy:function(t){return bw(t.data)},hashForSignTypedData_v3:function(t){return jo.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return jo.hash(t.data)}};function bw(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?yt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return gn.soliditySHA3(["bytes32","bytes32"],[gn.soliditySHA3(new Array(t.length).fill("string"),i),gn.soliditySHA3(n,r)])}var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.filterFromParam=Hr.FilterPolyfill=void 0;const Cr=$n,Ke=G,yw=5*60*1e3,ur={jsonrpc:"2.0",id:0};class gw{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Cr.IntNumber)(1),this.provider=e}async newFilter(e){const r=dh(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Ke.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ke.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ke.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Ke.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Ke.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(ei())}async getFilterLogs(e){const r=(0,Ke.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},ur),{method:"eth_getLogs",params:[Ru(n)]})):ei()}makeFilterId(){return(0,Cr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return ei();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return ti();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},ur),{method:"eth_getLogs",params:[Ru(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(f=>(0,Ke.intNumberFromHexString)(f.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>n){const f=(0,Cr.IntNumber)(u+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${f}`),this.cursors.set(e,f)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return ei();const n=await this.getCurrentBlockHeight();if(r>n)return ti();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Ke.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Cr.IntNumber)(o))))).filter(o=>!!o),s=(0,Cr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},ur),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(ti())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},yw);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},ur),{method:"eth_blockNumber",params:[]}));return(0,Ke.intNumberFromHexString)((0,Ke.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},ur),{method:"eth_getBlockByNumber",params:[(0,Ke.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Ke.ensureHexString)(r.result.hash):null}}Hr.FilterPolyfill=gw;function dh(t){return{fromBlock:Tu(t.fromBlock),toBlock:Tu(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Hr.filterFromParam=dh;function Ru(t){const e={fromBlock:Ou(t.fromBlock),toBlock:Ou(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Tu(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Cr.IntNumber)(0);if((0,Ke.isHexString)(t))return(0,Ke.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Ou(t){return t==="latest"?t:(0,Ke.hexStringFromIntNumber)(t)}function ei(){return Object.assign(Object.assign({},ur),{error:{code:-32e3,message:"filter not found"}})}function ti(){return Object.assign(Object.assign({},ur),{result:[]})}var ph={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(ph);var Ki={};const Nu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let f=1;f<arguments.length;f++)u[f-1]=arguments[f];o?(u.unshift(o),s(u)):i(u)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(o)}),t.apply(this,n)})};var vw=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Nu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Nu(s,e):s}return n},mw=ww,_w=Object.prototype.hasOwnProperty;function ww(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)_w.call(r,n)&&(t[n]=r[n])}return t}var Sw=Ew;function Ew(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const xw=mw,Cw=Sw();var Iw=J;function J(t){const e=this;e.currentProvider=t}J.prototype.getBalance=Hn(2,"eth_getBalance");J.prototype.getCode=Hn(2,"eth_getCode");J.prototype.getTransactionCount=Hn(2,"eth_getTransactionCount");J.prototype.getStorageAt=Hn(3,"eth_getStorageAt");J.prototype.call=Hn(2,"eth_call");J.prototype.protocolVersion=ae("eth_protocolVersion");J.prototype.syncing=ae("eth_syncing");J.prototype.coinbase=ae("eth_coinbase");J.prototype.mining=ae("eth_mining");J.prototype.hashrate=ae("eth_hashrate");J.prototype.gasPrice=ae("eth_gasPrice");J.prototype.accounts=ae("eth_accounts");J.prototype.blockNumber=ae("eth_blockNumber");J.prototype.getBlockTransactionCountByHash=ae("eth_getBlockTransactionCountByHash");J.prototype.getBlockTransactionCountByNumber=ae("eth_getBlockTransactionCountByNumber");J.prototype.getUncleCountByBlockHash=ae("eth_getUncleCountByBlockHash");J.prototype.getUncleCountByBlockNumber=ae("eth_getUncleCountByBlockNumber");J.prototype.sign=ae("eth_sign");J.prototype.sendTransaction=ae("eth_sendTransaction");J.prototype.sendRawTransaction=ae("eth_sendRawTransaction");J.prototype.estimateGas=ae("eth_estimateGas");J.prototype.getBlockByHash=ae("eth_getBlockByHash");J.prototype.getBlockByNumber=ae("eth_getBlockByNumber");J.prototype.getTransactionByHash=ae("eth_getTransactionByHash");J.prototype.getTransactionByBlockHashAndIndex=ae("eth_getTransactionByBlockHashAndIndex");J.prototype.getTransactionByBlockNumberAndIndex=ae("eth_getTransactionByBlockNumberAndIndex");J.prototype.getTransactionReceipt=ae("eth_getTransactionReceipt");J.prototype.getUncleByBlockHashAndIndex=ae("eth_getUncleByBlockHashAndIndex");J.prototype.getUncleByBlockNumberAndIndex=ae("eth_getUncleByBlockNumberAndIndex");J.prototype.getCompilers=ae("eth_getCompilers");J.prototype.compileLLL=ae("eth_compileLLL");J.prototype.compileSolidity=ae("eth_compileSolidity");J.prototype.compileSerpent=ae("eth_compileSerpent");J.prototype.newFilter=ae("eth_newFilter");J.prototype.newBlockFilter=ae("eth_newBlockFilter");J.prototype.newPendingTransactionFilter=ae("eth_newPendingTransactionFilter");J.prototype.uninstallFilter=ae("eth_uninstallFilter");J.prototype.getFilterChanges=ae("eth_getFilterChanges");J.prototype.getFilterLogs=ae("eth_getFilterLogs");J.prototype.getLogs=ae("eth_getLogs");J.prototype.getWork=ae("eth_getWork");J.prototype.submitWork=ae("eth_submitWork");J.prototype.submitHashrate=ae("eth_submitHashrate");J.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Aw(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ae(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Hn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Aw(t){return xw({id:Cw(),jsonrpc:"2.0",params:[]},t)}var bh={},yh={},kw=Sf,Ji=function(){return kw()&&!!Symbol.toStringTag},Mw=Ji(),Rw=qi,Ca=Rw("Object.prototype.toString"),Xi=function(e){return Mw&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Ca(e)==="[object Arguments]"},gh=function(e){return Xi(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Ca(e)!=="[object Array]"&&Ca(e.callee)==="[object Function]"},Tw=function(){return Xi(arguments)}();Xi.isLegacyArguments=gh;var Ow=Tw?Xi:gh,Nw=Object.prototype.toString,Bw=Function.prototype.toString,Lw=/^\s*(?:function)?\*/,vh=Ji(),Fo=Object.getPrototypeOf,Pw=function(){if(!vh)return!1;try{return Function("return function*() {}")()}catch{}},$o,Dw=function(e){if(typeof e!="function")return!1;if(Lw.test(Bw.call(e)))return!0;if(!vh){var r=Nw.call(e);return r==="[object GeneratorFunction]"}if(!Fo)return!1;if(typeof $o>"u"){var n=Pw();$o=n?Fo(n):!1}return Fo(e)===$o},mh=Function.prototype.toString,Ar=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ia,ui;if(typeof Ar=="function"&&typeof Object.defineProperty=="function")try{Ia=Object.defineProperty({},"length",{get:function(){throw ui}}),ui={},Ar(function(){throw 42},null,Ia)}catch(t){t!==ui&&(Ar=null)}else Ar=null;var jw=/^\s*class\b/,Aa=function(e){try{var r=mh.call(e);return jw.test(r)}catch{return!1}},Uo=function(e){try{return Aa(e)?!1:(mh.call(e),!0)}catch{return!1}},li=Object.prototype.toString,Fw="[object Object]",$w="[object Function]",Uw="[object GeneratorFunction]",Ww="[object HTMLAllCollection]",Hw="[object HTML document.all class]",Vw="[object HTMLCollection]",zw=typeof Symbol=="function"&&!!Symbol.toStringTag,qw=!(0 in[,]),ka=function(){return!1};if(typeof document=="object"){var Gw=document.all;li.call(Gw)===li.call(document.all)&&(ka=function(e){if((qw||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=li.call(e);return(r===Ww||r===Hw||r===Vw||r===Fw)&&e("")==null}catch{}return!1})}var Qw=Ar?function(e){if(ka(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ar(e,null,Ia)}catch(r){if(r!==ui)return!1}return!Aa(e)&&Uo(e)}:function(e){if(ka(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(zw)return Uo(e);if(Aa(e))return!1;var r=li.call(e);return r!==$w&&r!==Uw&&!/^\[object HTML/.test(r)?!1:Uo(e)},Zw=Qw,Yw=Object.prototype.toString,_h=Object.prototype.hasOwnProperty,Kw=function(e,r,n){for(var i=0,s=e.length;i<s;i++)_h.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Jw=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},Xw=function(e,r,n){for(var i in e)_h.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},e2=function(e,r,n){if(!Zw(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),Yw.call(e)==="[object Array]"?Kw(e,r,i):typeof e=="string"?Jw(e,r,i):Xw(e,r,i)},wh=e2,Wo=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t2=typeof globalThis>"u"?ne:globalThis,Sh=function(){for(var e=[],r=0;r<Wo.length;r++)typeof t2[Wo[r]]=="function"&&(e[e.length]=Wo[r]);return e},r2=zi,fi=r2("%Object.getOwnPropertyDescriptor%",!0);if(fi)try{fi([],"length")}catch{fi=null}var Eh=fi,xh=wh,n2=Sh,nc=qi,i2=nc("Object.prototype.toString"),Ch=Ji(),hi=Eh,s2=typeof globalThis>"u"?ne:globalThis,Ih=n2(),o2=nc("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},a2=nc("String.prototype.slice"),Ah={},Ho=Object.getPrototypeOf;Ch&&hi&&Ho&&xh(Ih,function(t){var e=new s2[t];if(Symbol.toStringTag in e){var r=Ho(e),n=hi(r,Symbol.toStringTag);if(!n){var i=Ho(r);n=hi(i,Symbol.toStringTag)}Ah[t]=n.get}});var c2=function(e){var r=!1;return xh(Ah,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},kh=function(e){if(!e||typeof e!="object")return!1;if(!Ch||!(Symbol.toStringTag in e)){var r=a2(i2(e),8,-1);return o2(Ih,r)>-1}return hi?c2(e):!1},Mh=wh,u2=Sh,Rh=qi,Vo=Eh,l2=Rh("Object.prototype.toString"),Th=Ji(),Bu=typeof globalThis>"u"?ne:globalThis,f2=u2(),h2=Rh("String.prototype.slice"),Oh={},zo=Object.getPrototypeOf;Th&&Vo&&zo&&Mh(f2,function(t){if(typeof Bu[t]=="function"){var e=new Bu[t];if(Symbol.toStringTag in e){var r=zo(e),n=Vo(r,Symbol.toStringTag);if(!n){var i=zo(r);n=Vo(i,Symbol.toStringTag)}Oh[t]=n.get}}});var d2=function(e){var r=!1;return Mh(Oh,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},p2=kh,b2=function(e){return p2(e)?!Th||!(Symbol.toStringTag in e)?h2(l2(e),8,-1):d2(e):!1};(function(t){var e=Ow,r=Dw,n=b2,i=kh;function s(L){return L.call.bind(L)}var o=typeof BigInt<"u",a=typeof Symbol<"u",u=s(Object.prototype.toString),f=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),_=s(Boolean.prototype.valueOf);if(o)var p=s(BigInt.prototype.valueOf);if(a)var v=s(Symbol.prototype.valueOf);function w(L,mt){if(typeof L!="object")return!1;try{return mt(L),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function M(L){return typeof Promise<"u"&&L instanceof Promise||L!==null&&typeof L=="object"&&typeof L.then=="function"&&typeof L.catch=="function"}t.isPromise=M;function O(L){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(L):i(L)||T(L)}t.isArrayBufferView=O;function m(L){return n(L)==="Uint8Array"}t.isUint8Array=m;function S(L){return n(L)==="Uint8ClampedArray"}t.isUint8ClampedArray=S;function A(L){return n(L)==="Uint16Array"}t.isUint16Array=A;function B(L){return n(L)==="Uint32Array"}t.isUint32Array=B;function $(L){return n(L)==="Int8Array"}t.isInt8Array=$;function z(L){return n(L)==="Int16Array"}t.isInt16Array=z;function q(L){return n(L)==="Int32Array"}t.isInt32Array=q;function V(L){return n(L)==="Float32Array"}t.isFloat32Array=V;function W(L){return n(L)==="Float64Array"}t.isFloat64Array=W;function de(L){return n(L)==="BigInt64Array"}t.isBigInt64Array=de;function ce(L){return n(L)==="BigUint64Array"}t.isBigUint64Array=ce;function K(L){return u(L)==="[object Map]"}K.working=typeof Map<"u"&&K(new Map);function re(L){return typeof Map>"u"?!1:K.working?K(L):L instanceof Map}t.isMap=re;function oe(L){return u(L)==="[object Set]"}oe.working=typeof Set<"u"&&oe(new Set);function ue(L){return typeof Set>"u"?!1:oe.working?oe(L):L instanceof Set}t.isSet=ue;function Se(L){return u(L)==="[object WeakMap]"}Se.working=typeof WeakMap<"u"&&Se(new WeakMap);function Oe(L){return typeof WeakMap>"u"?!1:Se.working?Se(L):L instanceof WeakMap}t.isWeakMap=Oe;function Te(L){return u(L)==="[object WeakSet]"}Te.working=typeof WeakSet<"u"&&Te(new WeakSet);function ve(L){return Te(L)}t.isWeakSet=ve;function Le(L){return u(L)==="[object ArrayBuffer]"}Le.working=typeof ArrayBuffer<"u"&&Le(new ArrayBuffer);function pe(L){return typeof ArrayBuffer>"u"?!1:Le.working?Le(L):L instanceof ArrayBuffer}t.isArrayBuffer=pe;function I(L){return u(L)==="[object DataView]"}I.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&I(new DataView(new ArrayBuffer(1),0,1));function T(L){return typeof DataView>"u"?!1:I.working?I(L):L instanceof DataView}t.isDataView=T;var j=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Z(L){return u(L)==="[object SharedArrayBuffer]"}function E(L){return typeof j>"u"?!1:(typeof Z.working>"u"&&(Z.working=Z(new j)),Z.working?Z(L):L instanceof j)}t.isSharedArrayBuffer=E;function C(L){return u(L)==="[object AsyncFunction]"}t.isAsyncFunction=C;function R(L){return u(L)==="[object Map Iterator]"}t.isMapIterator=R;function F(L){return u(L)==="[object Set Iterator]"}t.isSetIterator=F;function H(L){return u(L)==="[object Generator]"}t.isGeneratorObject=H;function b(L){return u(L)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=b;function g(L){return w(L,f)}t.isNumberObject=g;function P(L){return w(L,h)}t.isStringObject=P;function U(L){return w(L,_)}t.isBooleanObject=U;function be(L){return o&&w(L,p)}t.isBigIntObject=be;function X(L){return a&&w(L,v)}t.isSymbolObject=X;function le(L){return g(L)||P(L)||U(L)||be(L)||X(L)}t.isBoxedPrimitive=le;function et(L){return typeof Uint8Array<"u"&&(pe(L)||E(L))}t.isAnyArrayBuffer=et,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(L){Object.defineProperty(t,L,{enumerable:!1,value:function(){throw new Error(L+" is not supported in userland")}})})})(yh);var y2=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(T){for(var j=Object.keys(T),Z={},E=0;E<j.length;E++)Z[j[E]]=Object.getOwnPropertyDescriptor(T,j[E]);return Z},r=/%[sdj%]/g;t.format=function(I){if(!$(I)){for(var T=[],j=0;j<arguments.length;j++)T.push(o(arguments[j]));return T.join(" ")}for(var j=1,Z=arguments,E=Z.length,C=String(I).replace(r,function(F){if(F==="%%")return"%";if(j>=E)return F;switch(F){case"%s":return String(Z[j++]);case"%d":return Number(Z[j++]);case"%j":try{return JSON.stringify(Z[j++])}catch{return"[Circular]"}default:return F}}),R=Z[j];j<E;R=Z[++j])S(R)||!W(R)?C+=" "+R:C+=" "+o(R);return C},t.deprecate=function(I,T){if(typeof process<"u"&&process.noDeprecation===!0)return I;if(typeof process>"u")return function(){return t.deprecate(I,T).apply(this,arguments)};var j=!1;function Z(){if(!j){if(process.throwDeprecation)throw new Error(T);process.traceDeprecation?console.trace(T):console.error(T),j=!0}return I.apply(this,arguments)}return Z};var n={},i=/^$/;if(process.env.NODE_DEBUG){var s=process.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(I){if(I=I.toUpperCase(),!n[I])if(i.test(I)){var T=process.pid;n[I]=function(){var j=t.format.apply(t,arguments);console.error("%s %d: %s",I,T,j)}}else n[I]=function(){};return n[I]};function o(I,T){var j={seen:[],stylize:u};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),m(T)?j.showHidden=T:T&&t._extend(j,T),q(j.showHidden)&&(j.showHidden=!1),q(j.depth)&&(j.depth=2),q(j.colors)&&(j.colors=!1),q(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=a),h(j,I,j.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(I,T){var j=o.styles[T];return j?"\x1B["+o.colors[j][0]+"m"+I+"\x1B["+o.colors[j][1]+"m":I}function u(I,T){return I}function f(I){var T={};return I.forEach(function(j,Z){T[j]=!0}),T}function h(I,T,j){if(I.customInspect&&T&&K(T.inspect)&&T.inspect!==t.inspect&&!(T.constructor&&T.constructor.prototype===T)){var Z=T.inspect(j,I);return $(Z)||(Z=h(I,Z,j)),Z}var E=_(I,T);if(E)return E;var C=Object.keys(T),R=f(C);if(I.showHidden&&(C=Object.getOwnPropertyNames(T)),ce(T)&&(C.indexOf("message")>=0||C.indexOf("description")>=0))return p(T);if(C.length===0){if(K(T)){var F=T.name?": "+T.name:"";return I.stylize("[Function"+F+"]","special")}if(V(T))return I.stylize(RegExp.prototype.toString.call(T),"regexp");if(de(T))return I.stylize(Date.prototype.toString.call(T),"date");if(ce(T))return p(T)}var H="",b=!1,g=["{","}"];if(O(T)&&(b=!0,g=["[","]"]),K(T)){var P=T.name?": "+T.name:"";H=" [Function"+P+"]"}if(V(T)&&(H=" "+RegExp.prototype.toString.call(T)),de(T)&&(H=" "+Date.prototype.toUTCString.call(T)),ce(T)&&(H=" "+p(T)),C.length===0&&(!b||T.length==0))return g[0]+H+g[1];if(j<0)return V(T)?I.stylize(RegExp.prototype.toString.call(T),"regexp"):I.stylize("[Object]","special");I.seen.push(T);var U;return b?U=v(I,T,j,R,C):U=C.map(function(be){return w(I,T,j,R,be,b)}),I.seen.pop(),M(U,H,g)}function _(I,T){if(q(T))return I.stylize("undefined","undefined");if($(T)){var j="'"+JSON.stringify(T).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(j,"string")}if(B(T))return I.stylize(""+T,"number");if(m(T))return I.stylize(""+T,"boolean");if(S(T))return I.stylize("null","null")}function p(I){return"["+Error.prototype.toString.call(I)+"]"}function v(I,T,j,Z,E){for(var C=[],R=0,F=T.length;R<F;++R)Te(T,String(R))?C.push(w(I,T,j,Z,String(R),!0)):C.push("");return E.forEach(function(H){H.match(/^\d+$/)||C.push(w(I,T,j,Z,H,!0))}),C}function w(I,T,j,Z,E,C){var R,F,H;if(H=Object.getOwnPropertyDescriptor(T,E)||{value:T[E]},H.get?H.set?F=I.stylize("[Getter/Setter]","special"):F=I.stylize("[Getter]","special"):H.set&&(F=I.stylize("[Setter]","special")),Te(Z,E)||(R="["+E+"]"),F||(I.seen.indexOf(H.value)<0?(S(j)?F=h(I,H.value,null):F=h(I,H.value,j-1),F.indexOf(`
`)>-1&&(C?F=F.split(`
`).map(function(b){return"  "+b}).join(`
`).slice(2):F=`
`+F.split(`
`).map(function(b){return"   "+b}).join(`
`))):F=I.stylize("[Circular]","special")),q(R)){if(C&&E.match(/^\d+$/))return F;R=JSON.stringify(""+E),R.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(R=R.slice(1,-1),R=I.stylize(R,"name")):(R=R.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),R=I.stylize(R,"string"))}return R+": "+F}function M(I,T,j){var Z=I.reduce(function(E,C){return C.indexOf(`
`)>=0,E+C.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Z>60?j[0]+(T===""?"":T+`
 `)+" "+I.join(`,
  `)+" "+j[1]:j[0]+T+" "+I.join(", ")+" "+j[1]}t.types=yh;function O(I){return Array.isArray(I)}t.isArray=O;function m(I){return typeof I=="boolean"}t.isBoolean=m;function S(I){return I===null}t.isNull=S;function A(I){return I==null}t.isNullOrUndefined=A;function B(I){return typeof I=="number"}t.isNumber=B;function $(I){return typeof I=="string"}t.isString=$;function z(I){return typeof I=="symbol"}t.isSymbol=z;function q(I){return I===void 0}t.isUndefined=q;function V(I){return W(I)&&oe(I)==="[object RegExp]"}t.isRegExp=V,t.types.isRegExp=V;function W(I){return typeof I=="object"&&I!==null}t.isObject=W;function de(I){return W(I)&&oe(I)==="[object Date]"}t.isDate=de,t.types.isDate=de;function ce(I){return W(I)&&(oe(I)==="[object Error]"||I instanceof Error)}t.isError=ce,t.types.isNativeError=ce;function K(I){return typeof I=="function"}t.isFunction=K;function re(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}t.isPrimitive=re,t.isBuffer=y2;function oe(I){return Object.prototype.toString.call(I)}function ue(I){return I<10?"0"+I.toString(10):I.toString(10)}var Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Oe(){var I=new Date,T=[ue(I.getHours()),ue(I.getMinutes()),ue(I.getSeconds())].join(":");return[I.getDate(),Se[I.getMonth()],T].join(" ")}t.log=function(){console.log("%s - %s",Oe(),t.format.apply(t,arguments))},t.inherits=ht.exports,t._extend=function(I,T){if(!T||!W(T))return I;for(var j=Object.keys(T),Z=j.length;Z--;)I[j[Z]]=T[j[Z]];return I};function Te(I,T){return Object.prototype.hasOwnProperty.call(I,T)}var ve=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(T){if(typeof T!="function")throw new TypeError('The "original" argument must be of type Function');if(ve&&T[ve]){var j=T[ve];if(typeof j!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,ve,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var Z,E,C=new Promise(function(H,b){Z=H,E=b}),R=[],F=0;F<arguments.length;F++)R.push(arguments[F]);R.push(function(H,b){H?E(H):Z(b)});try{T.apply(this,R)}catch(H){E(H)}return C}return Object.setPrototypeOf(j,Object.getPrototypeOf(T)),ve&&Object.defineProperty(j,ve,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,e(T))},t.promisify.custom=ve;function Le(I,T){if(!I){var j=new Error("Promise was rejected with a falsy value");j.reason=I,I=j}return T(I)}function pe(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function T(){for(var j=[],Z=0;Z<arguments.length;Z++)j.push(arguments[Z]);var E=j.pop();if(typeof E!="function")throw new TypeError("The last argument must be of type Function");var C=this,R=function(){return E.apply(C,arguments)};I.apply(this,j).then(function(F){process.nextTick(R.bind(null,null,F))},function(F){process.nextTick(Le.bind(null,F,R))})}return Object.setPrototypeOf(T,Object.getPrototypeOf(I)),Object.defineProperties(T,e(I)),T}t.callbackify=pe})(bh);const g2=bh,Nh=Ni.exports;var qo=typeof Reflect=="object"?Reflect:null,v2=qo&&typeof qo.apply=="function"?qo.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},m2=ic;function ic(){Nh.call(this)}g2.inherits(ic,Nh);ic.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Lu(a,this,e);else for(var u=a.length,f=_2(a,u),r=0;r<u;++r)Lu(f[r],this,e);return!0};function Lu(t,e,r){try{v2(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function _2(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const w2=m2,S2=1e3,E2=(t,e)=>t+e,Pu=["sync","latest"];class x2 extends w2{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*S2,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!Pu.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Pu.map(e=>this.listenerCount(e)).reduce(E2)}_newPotentialLatest(e){const r=this._currentBlock;r&&Du(e)<=Du(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var C2=x2;function Du(t){return Number.parseInt(t,16)}const I2=vw,A2=C2,k2=1e3;class M2 extends A2{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*k2,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await ju(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await ju(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await I2(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var R2=M2;function ju(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var sc={exports:{}},T2=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=T2})(sc);var oc={},es={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.getUniqueId=void 0;const Bh=4294967295;let Go=Math.floor(Math.random()*Bh);function O2(){return Go=(Go+1)%Bh,Go}Vn.getUniqueId=O2;Object.defineProperty(es,"__esModule",{value:!0});es.createIdRemapMiddleware=void 0;const N2=Vn;function B2(){return(t,e,r,n)=>{const i=t.id,s=N2.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}es.createIdRemapMiddleware=B2;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.createAsyncMiddleware=void 0;function L2(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,u=!1;const f=async()=>{u=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,f),u?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}ts.createAsyncMiddleware=L2;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.createScaffoldMiddleware=void 0;function P2(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}rs.createScaffoldMiddleware=P2;var zn={},Lh={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.EthereumProviderError=tr.EthereumRpcError=void 0;const D2=ml;class Ph extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return D2.default(this.serialize(),$2,2)}}tr.EthereumRpcError=Ph;class j2 extends Ph{constructor(e,r,n){if(!F2(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}tr.EthereumProviderError=j2;function F2(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function $2(t,e){if(e!=="[Circular]")return e}var ac={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.errorValues=rr.errorCodes=void 0;rr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};rr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=rr,r=tr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(p,v=i){if(Number.isInteger(p)){const w=p.toString();if(_(e.errorValues,w))return e.errorValues[w].message;if(f(p))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return v}t.getMessageFromCode=o;function a(p){if(!Number.isInteger(p))return!1;const v=p.toString();return!!(e.errorValues[v]||f(p))}t.isValidCode=a;function u(p,{fallbackError:v=s,shouldIncludeStack:w=!1}={}){var M,O;if(!v||!Number.isInteger(v.code)||typeof v.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(p instanceof r.EthereumRpcError)return p.serialize();const m={};if(p&&typeof p=="object"&&!Array.isArray(p)&&_(p,"code")&&a(p.code)){const A=p;m.code=A.code,A.message&&typeof A.message=="string"?(m.message=A.message,_(A,"data")&&(m.data=A.data)):(m.message=o(m.code),m.data={originalError:h(p)})}else{m.code=v.code;const A=(M=p)===null||M===void 0?void 0:M.message;m.message=A&&typeof A=="string"?A:v.message,m.data={originalError:h(p)}}const S=(O=p)===null||O===void 0?void 0:O.stack;return w&&p&&S&&typeof S=="string"&&(m.stack=S),m}t.serializeError=u;function f(p){return p>=-32099&&p<=-32e3}function h(p){return p&&typeof p=="object"&&!Array.isArray(p)?Object.assign({},p):p}function _(p,v){return Object.prototype.hasOwnProperty.call(p,v)}})(ac);var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.ethErrors=void 0;const cc=tr,Dh=ac,ze=rr;ns.ethErrors={rpc:{parse:t=>ot(ze.errorCodes.rpc.parse,t),invalidRequest:t=>ot(ze.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ot(ze.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ot(ze.errorCodes.rpc.methodNotFound,t),internal:t=>ot(ze.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ot(e,t)},invalidInput:t=>ot(ze.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ot(ze.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ot(ze.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ot(ze.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ot(ze.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ot(ze.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>cn(ze.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>cn(ze.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>cn(ze.errorCodes.provider.unsupportedMethod,t),disconnected:t=>cn(ze.errorCodes.provider.disconnected,t),chainDisconnected:t=>cn(ze.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new cc.EthereumProviderError(e,r,n)}}};function ot(t,e){const[r,n]=jh(e);return new cc.EthereumRpcError(t,r||Dh.getMessageFromCode(t),n)}function cn(t,e){const[r,n]=jh(e);return new cc.EthereumProviderError(t,r||Dh.getMessageFromCode(t),n)}function jh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=tr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=ac;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ns;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=rr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Lh);var U2=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zn,"__esModule",{value:!0});zn.JsonRpcEngine=void 0;const W2=U2(Qr),at=Lh;class Nt extends W2.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Nt._runAllMiddleware(e,r,this._middleware);return o?(await Nt._runReturnHandlers(a),i(s)):n(async u=>{try{await Nt._runReturnHandlers(a)}catch(f){return u(f)}return u()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new at.EthereumRpcError(at.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new at.EthereumRpcError(at.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=at.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Nt._runAllMiddleware(e,r,this._middleware);if(Nt._checkForCompletion(e,r,i),await Nt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Nt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=u=>{const f=u||r.error;f&&(r.error=at.serializeError(f)),s([f,!0])},a=u=>{r.error?o(r.error):(u&&(typeof u!="function"&&o(new at.EthereumRpcError(at.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${Qo(e)}`,{request:e})),i.push(u)),s([null,!1]))};try{n(e,r,a,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new at.EthereumRpcError(at.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Qo(e)}`,{request:e});if(!n)throw new at.EthereumRpcError(at.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Qo(e)}`,{request:e})}}zn.JsonRpcEngine=Nt;function Qo(t){return JSON.stringify(t,null,2)}var is={};Object.defineProperty(is,"__esModule",{value:!0});is.mergeMiddleware=void 0;const H2=zn;function V2(t){const e=new H2.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}is.mergeMiddleware=V2;(function(t){var e=ne&&ne.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ne&&ne.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(es,t),r(ts,t),r(rs,t),r(Vn,t),r(zn,t),r(is,t)})(oc);var Fh={},uc={};const lc=Gr(Cd);var ss={};Object.defineProperty(ss,"__esModule",{value:!0});var Fu=lc,z2=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Fu.__awaiter(this,void 0,void 0,function(){var r,n,i;return Fu.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();ss.default=z2;Object.defineProperty(uc,"__esModule",{value:!0});var $u=lc,q2=ss,G2=function(){function t(){this._semaphore=new q2.default(1)}return t.prototype.acquire=function(){return $u.__awaiter(this,void 0,void 0,function(){var e,r;return $u.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();uc.default=G2;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.withTimeout=void 0;var ri=lc;function Q2(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return ri.__awaiter(n,void 0,void 0,function(){var o,a,u;return ri.__generator(this,function(f){switch(f.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=f.sent(),o?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return ri.__awaiter(this,void 0,void 0,function(){var s,o;return ri.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}os.withTimeout=Q2;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=uc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=ss;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=os;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Fh);const Uu=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...f)=>{e.errorFirst?f[0]?a(f):(f.shift(),o(f)):o(f)}):e.errorFirst?i.push((f,h)=>{f?a(f):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Wu=new WeakMap;var Z2=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let u=Wu.get(o);if(u||(u={},Wu.set(o,u)),a in u)return u[a];const f=w=>typeof w=="string"||typeof a=="symbol"?a===w:w.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),_=h===void 0||h.writable||h.configurable,v=(e.include?e.include.some(f):!e.exclude.some(f))&&_;return u[a]=v,v},i=new WeakMap,s=new Proxy(t,{apply(o,a,u){const f=i.get(o);if(f)return Reflect.apply(f,a,u);const h=e.excludeMain?o:Uu(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,u)},get(o,a){const u=o[a];if(!n(o,a)||u===Function.prototype[a])return u;const f=i.get(u);if(f)return f;if(typeof u=="function"){const h=Uu(u,e,s,o);return i.set(u,h),h}return u}});return s};const Y2=Qr.default;class K2 extends Y2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var fc=K2;const J2=fc;class X2 extends J2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var eS=X2,qn={minBlockRef:tS,maxBlockRef:rS,sortBlockRefs:hc,bnToHex:nS,blockRefIsNumber:iS,hexToInt:Ai,incrementHexInt:sS,intToHex:$h,unsafeRandomBytes:oS};function tS(...t){return hc(t)[0]}function rS(...t){const e=hc(t);return e[e.length-1]}function hc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Ai(e)-Ai(r))}function nS(t){return"0x"+t.toString(16)}function iS(t){return t&&!["earliest","latest","pending"].includes(t)}function Ai(t){return t==null?t:Number.parseInt(t,16)}function sS(t){if(t==null)return t;const e=Ai(t);return $h(e+1)}function $h(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function oS(t){let e="0x";for(let r=0;r<t;r++)e+=Hu(),e+=Hu();return e}function Hu(){return Math.floor(Math.random()*16).toString(16)}const aS=Iw,cS=Z2,uS=eS,{bnToHex:S3,hexToInt:ni,incrementHexInt:lS,minBlockRef:fS,blockRefIsNumber:hS}=qn;class dS extends uS{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new aS(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=fS(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=lS(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await cS(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(ni(this.params.fromBlock)>=ni(e.blockNumber)||hS(this.params.toBlock)&&ni(this.params.toBlock)<=ni(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}}var pS=dS,dc=bS;async function bS({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Vu(e),s=Vu(r)-n+1,o=Array(s).fill().map((u,f)=>n+f).map(yS);return await Promise.all(o.map(u=>gS(t,"eth_getBlockByNumber",[u,!1])))}function Vu(t){return t==null?t:Number.parseInt(t,16)}function yS(t){return t==null?t:"0x"+t.toString(16)}function gS(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const vS=fc,mS=dc,{incrementHexInt:_S}=qn;class wS extends vS{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=_S(e),o=(await mS({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var SS=wS;const ES=fc,xS=dc,{incrementHexInt:CS}=qn;class IS extends ES{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=CS(e),i=await xS({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var AS=IS;const kS=Fh.Mutex,{createAsyncMiddleware:MS}=oc,RS=sc.exports,TS=pS,OS=SS,NS=AS,{intToHex:Uh,hexToInt:Zo}=qn;var BS=LS;function LS({blockTracker:t,provider:e}){let r=0,n={};const i=new kS,s=PS({mutex:i}),o=RS({eth_newFilter:s(Yo(u)),eth_newBlockFilter:s(Yo(f)),eth_newPendingTransactionFilter:s(Yo(h)),eth_uninstallFilter:s(di(v)),eth_getFilterChanges:s(di(_)),eth_getFilterLogs:s(di(p))}),a=async({oldBlock:S,newBlock:A})=>{if(n.length===0)return;const B=await i.acquire();try{await Promise.all(Sr(n).map(async $=>{try{await $.update({oldBlock:S,newBlock:A})}catch(z){console.error(z)}}))}catch($){console.error($)}B()};return o.newLogFilter=u,o.newBlockFilter=f,o.newPendingTransactionFilter=h,o.uninstallFilter=v,o.getFilterChanges=_,o.getFilterLogs=p,o.destroy=()=>{O()},o;async function u(S){const A=new TS({provider:e,params:S});return await w(A),A}async function f(){const S=new OS({provider:e});return await w(S),S}async function h(){const S=new NS({provider:e});return await w(S),S}async function _(S){const A=Zo(S),B=n[A];if(!B)throw new Error(`No filter for index "${A}"`);return B.getChangesAndClear()}async function p(S){const A=Zo(S),B=n[A];if(!B)throw new Error(`No filter for index "${A}"`);return B.type==="log"?results=B.getAllResults():results=[],results}async function v(S){const A=Zo(S),B=n[A],$=Boolean(B);return $&&await M(A),$}async function w(S){const A=Sr(n).length,B=await t.getLatestBlock();await S.initialize({currentBlock:B}),r++,n[r]=S,S.id=r,S.idHex=Uh(r);const $=Sr(n).length;return m({prevFilterCount:A,newFilterCount:$}),r}async function M(S){const A=Sr(n).length;delete n[S];const B=Sr(n).length;m({prevFilterCount:A,newFilterCount:B})}async function O(){const S=Sr(n).length;n={},m({prevFilterCount:S,newFilterCount:0})}function m({prevFilterCount:S,newFilterCount:A}){if(S===0&&A>0){t.on("sync",a);return}if(S>0&&A===0){t.removeListener("sync",a);return}}}function Yo(t){return di(async(...e)=>{const r=await t(...e);return Uh(r.id)})}function di(t){return MS(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function PS({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Sr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const DS=Qr.default,jS=sc.exports,{createAsyncMiddleware:zu}=oc,FS=BS,{unsafeRandomBytes:$S,incrementHexInt:US}=qn,WS=dc;var HS=VS;function VS({blockTracker:t,provider:e}){const r={},n=FS({blockTracker:t,provider:e});let i=!1;const s=new DS,o=jS({eth_subscribe:zu(a),eth_unsubscribe:zu(u)});return o.destroy=h,{events:s,middleware:o};async function a(_,p){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=_.params[0],w=$S(16);let M;switch(v){case"newHeads":M=O({subId:w});break;case"logs":const S=_.params[1],A=await n.newLogFilter(S);M=m({subId:w,filter:A});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${v}"`)}r[w]=M,p.result=w;return;function O({subId:S}){const A={type:v,destroy:async()=>{t.removeListener("sync",A.update)},update:async({oldBlock:B,newBlock:$})=>{const z=$,q=US(B);(await WS({provider:e,fromBlock:q,toBlock:z})).map(zS).forEach(de=>{f(S,de)})}};return t.on("sync",A.update),A}function m({subId:S,filter:A}){return A.on("update",$=>f(S,$)),{type:v,destroy:async()=>await n.uninstallFilter(A.idHex)}}}async function u(_,p){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=_.params[0],w=r[v];if(!w){p.result=!1;return}delete r[v],await w.destroy(),p.result=!0}function f(_,p){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:_,result:p}})}function h(){s.removeAllListeners();for(const _ in r)r[_].destroy(),delete r[_];i=!0}}function zS(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ki,"__esModule",{value:!0});Ki.SubscriptionManager=void 0;const qS=R2,GS=HS,qu=()=>{};class QS{constructor(e){const r=new qS({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=GS({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,qu,qu),r}destroy(){this.subscriptionMiddleware.destroy()}}Ki.SubscriptionManager=QS;var pc=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});Br.CoinbaseWalletProvider=void 0;const ZS=pc(Qr),YS=pc(Oi.exports),qe=Pi,Ko=Zr,Gu=Yr,Qu=vt,ie=G,Jo=pc(pw),KS=Hr,ge=ph,JS=Ki,Zu="DefaultChainId",Yu="DefaultJsonRpcUrl";class XS extends ZS.default{constructor(e){var r,n;super(),this._filterPolyfill=new KS.FilterPolyfill(this),this._subscriptionManager=new JS.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ie.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Qu.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,ie.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const f=a.data.data.chainId,h=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(h,Number(f))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ie.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Yu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Yu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Zu,r.toString(10)),((0,ie.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,u;if((0,ie.ensureIntNumber)(e)===this.getChainId())return!1;const f=await this.initializeRelay(),h=f.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await f.requestEthereumAccounts().promise;const _=await f.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=_.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((u=_.result)===null||u===void 0?void 0:u.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw qe.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ko.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Gu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(ge.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw qe.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw qe.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw qe.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,ie.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ie.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Qu.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ge.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ge.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ge.JSONRPCMethod.net_version:return this._net_version();case ge.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ge.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ge.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ge.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ge.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ge.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ge.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ge.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ge.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ge.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ge.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ge.JSONRPCMethod.eth_signTypedData_v4:case ge.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ge.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ge.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ge.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ge.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ge.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ge.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ge.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ge.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ge.JSONRPCMethod.eth_subscribe:case ge.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ie.ensureAddressString)(e);return this._addresses.map(i=>(0,ie.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ko.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ie.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ie.ensureAddressString)(e.to):null,i=e.value!=null?(0,ie.ensureBN)(e.value):new YS.default(0),s=e.data?(0,ie.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ie.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ie.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,ie.ensureBN)(e.maxFeePerGas):null,f=e.maxPriorityFeePerGas!=null?(0,ie.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,ie.ensureBN)(e.gas):null,_=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:f,gasLimit:h,chainId:_}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw qe.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw qe.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ie.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Zu);if(!e)return(0,ie.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ie.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ko.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Gu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ie.ensureAddressString)(e[0]),n=(0,ie.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ie.ensureBuffer)(e[0]),n=(0,ie.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ie.ensureBuffer)(e[0]),n=(0,ie.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ie.ensureBuffer)(e[0]),n=(0,ie.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ie.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ie.ensureParsedJSONObject)(e[0]),n=(0,ie.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Jo.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ie.ensureAddressString)(e[0]),n=(0,ie.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Jo.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ie.ensureAddressString)(e[0]),n=(0,ie.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Jo.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw qe.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw qe.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw qe.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw qe.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw qe.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw qe.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ie.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ie.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ie.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Br.CoinbaseWalletProvider=XS;var as={},cs={},Gn,ee,Wh,Hh,vn,Ku,Vh,ki={},zh=[],eE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Lt(t,e){for(var r in e)t[r]=e[r];return t}function qh(t){var e=t.parentNode;e&&e.removeChild(t)}function Ma(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Gn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return mn(t,o,n,i,null)}function mn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Wh:i};return i==null&&ee.vnode!=null&&ee.vnode(s),s}function tE(){return{current:null}}function Qn(t){return t.children}function _n(t,e){this.props=t,this.context=e}function An(t,e){if(e==null)return t.__?An(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?An(t):null}function Gh(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Gh(t)}}function Ra(t){(!t.__d&&(t.__d=!0)&&vn.push(t)&&!Mi.__r++||Ku!==ee.debounceRendering)&&((Ku=ee.debounceRendering)||setTimeout)(Mi)}function Mi(){for(var t;Mi.__r=vn.length;)t=vn.sort(function(e,r){return e.__v.__b-r.__v.__b}),vn=[],t.some(function(e){var r,n,i,s,o,a;e.__d&&(o=(s=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=Lt({},s)).__v=s.__v+1,bc(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o==null?An(s):o,s.__h),Jh(n,s),s.__e!=o&&Gh(s)))})}function Qh(t,e,r,n,i,s,o,a,u,f){var h,_,p,v,w,M,O,m=n&&n.__k||zh,S=m.length;for(r.__k=[],h=0;h<e.length;h++)if((v=r.__k[h]=(v=e[h])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?mn(null,v,null,null,v):Array.isArray(v)?mn(Qn,{children:v},null,null,null):v.__b>0?mn(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=r,v.__b=r.__b+1,(p=m[h])===null||p&&v.key==p.key&&v.type===p.type)m[h]=void 0;else for(_=0;_<S;_++){if((p=m[_])&&v.key==p.key&&v.type===p.type){m[_]=void 0;break}p=null}bc(t,v,p=p||ki,i,s,o,a,u,f),w=v.__e,(_=v.ref)&&p.ref!=_&&(O||(O=[]),p.ref&&O.push(p.ref,null,v),O.push(_,v.__c||w,v)),w!=null?(M==null&&(M=w),typeof v.type=="function"&&v.__k===p.__k?v.__d=u=Zh(v,u,t):u=Kh(t,v,p,m,w,u),typeof r.type=="function"&&(r.__d=u)):u&&p.__e==u&&u.parentNode!=t&&(u=An(p))}for(r.__e=M,h=S;h--;)m[h]!=null&&ed(m[h],m[h]);if(O)for(h=0;h<O.length;h++)Xh(O[h],O[++h],O[++h])}function Zh(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Zh(n,e,r):Kh(r,n,n,i,n.__e,e));return e}function Yh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Yh(r,e)}):e.push(t)),e}function Kh(t,e,r,n,i,s){var o,a,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,u=0;(a=a.nextSibling)&&u<n.length;u+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function rE(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||Ri(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Ri(t,s,e[s],r[s],n)}function Ju(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||eE.test(e)?r:r+"px"}function Ri(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Ju(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Ju(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?el:Xu,s):t.removeEventListener(e,s?el:Xu,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function Xu(t){this.l[t.type+!1](ee.event?ee.event(t):t)}function el(t){this.l[t.type+!0](ee.event?ee.event(t):t)}function bc(t,e,r,n,i,s,o,a,u){var f,h,_,p,v,w,M,O,m,S,A,B,$,z,q,V=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(f=ee.__b)&&f(e);try{e:if(typeof V=="function"){if(O=e.props,m=(f=V.contextType)&&n[f.__c],S=f?m?m.props.value:f.__:n,r.__c?M=(h=e.__c=r.__c).__=h.__E:("prototype"in V&&V.prototype.render?e.__c=h=new V(O,S):(e.__c=h=new _n(O,S),h.constructor=V,h.render=iE),m&&m.sub(h),h.props=O,h.state||(h.state={}),h.context=S,h.__n=n,_=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),V.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Lt({},h.__s)),Lt(h.__s,V.getDerivedStateFromProps(O,h.__s))),p=h.props,v=h.state,_)V.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(V.getDerivedStateFromProps==null&&O!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(O,S),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(O,h.__s,S)===!1||e.__v===r.__v){for(h.props=O,h.state=h.__s,e.__v!==r.__v&&(h.__d=!1),h.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(W){W&&(W.__=e)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(O,h.__s,S),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,v,w)})}if(h.context=S,h.props=O,h.__v=e,h.__P=t,B=ee.__r,$=0,"prototype"in V&&V.prototype.render){for(h.state=h.__s,h.__d=!1,B&&B(e),f=h.render(h.props,h.state,h.context),z=0;z<h._sb.length;z++)h.__h.push(h._sb[z]);h._sb=[]}else do h.__d=!1,B&&B(e),f=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++$<25);h.state=h.__s,h.getChildContext!=null&&(n=Lt(Lt({},n),h.getChildContext())),_||h.getSnapshotBeforeUpdate==null||(w=h.getSnapshotBeforeUpdate(p,v)),q=f!=null&&f.type===Qn&&f.key==null?f.props.children:f,Qh(t,Array.isArray(q)?q:[q],e,r,n,i,s,o,a,u),h.base=e.__e,e.__h=null,h.__h.length&&o.push(h),M&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=nE(r.__e,e,r,n,i,s,o,u);(f=ee.diffed)&&f(e)}catch(W){e.__v=null,(u||s!=null)&&(e.__e=a,e.__h=!!u,s[s.indexOf(a)]=null),ee.__e(W,e,r)}}function Jh(t,e){ee.__c&&ee.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ee.__e(n,r.__v)}})}function nE(t,e,r,n,i,s,o,a){var u,f,h,_=r.props,p=e.props,v=e.type,w=0;if(v==="svg"&&(i=!0),s!=null){for(;w<s.length;w++)if((u=s[w])&&"setAttribute"in u==!!v&&(v?u.localName===v:u.nodeType===3)){t=u,s[w]=null;break}}if(t==null){if(v===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,p.is&&p),s=null,a=!1}if(v===null)_===p||a&&t.data===p||(t.data=p);else{if(s=s&&Gn.call(t.childNodes),f=(_=r.props||ki).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!a){if(s!=null)for(_={},w=0;w<t.attributes.length;w++)_[t.attributes[w].name]=t.attributes[w].value;(h||f)&&(h&&(f&&h.__html==f.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(rE(t,p,_,i,a),h)e.__k=[];else if(w=e.props.children,Qh(t,Array.isArray(w)?w:[w],e,r,n,i&&v!=="foreignObject",s,o,s?s[0]:r.__k&&An(r,0),a),s!=null)for(w=s.length;w--;)s[w]!=null&&qh(s[w]);a||("value"in p&&(w=p.value)!==void 0&&(w!==t.value||v==="progress"&&!w||v==="option"&&w!==_.value)&&Ri(t,"value",w,_.value,!1),"checked"in p&&(w=p.checked)!==void 0&&w!==t.checked&&Ri(t,"checked",w,_.checked,!1))}return t}function Xh(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ee.__e(n,r)}}function ed(t,e,r){var n,i;if(ee.unmount&&ee.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Xh(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ee.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&ed(n[i],e,r||typeof t.type!="function");r||t.__e==null||qh(t.__e),t.__=t.__e=t.__d=void 0}function iE(t,e,r){return this.constructor(t,r)}function td(t,e,r){var n,i,s;ee.__&&ee.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],bc(e,t=(!n&&r||e).__k=Ma(Qn,null,[t]),i||ki,ki,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Gn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Jh(s,t)}function rd(t,e){td(t,e,rd)}function sE(t,e,r){var n,i,s,o=Lt({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Gn.call(arguments,2):r),mn(t.type,o,n||t.key,i||t.ref,null)}function oE(t,e){var r={__c:e="__cC"+Vh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(Ra)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Gn=zh.slice,ee={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Wh=0,Hh=function(t){return t!=null&&t.constructor===void 0},_n.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Lt({},this.state),typeof t=="function"&&(t=t(Lt({},r),this.props)),t&&Lt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ra(this))},_n.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ra(this))},_n.prototype.render=Qn,vn=[],Mi.__r=0,Vh=0;const aE=Object.freeze(Object.defineProperty({__proto__:null,Component:_n,Fragment:Qn,cloneElement:sE,createContext:oE,createElement:Ma,createRef:tE,h:Ma,hydrate:rd,get isValidElement(){return Hh},get options(){return ee},render:td,toChildArray:Yh},Symbol.toStringTag,{value:"Module"})),it=Gr(aE);var us={};function nd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=nd(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function tl(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=nd(t))&&(n&&(n+=" "),n+=e);return n}const cE=Object.freeze(Object.defineProperty({__proto__:null,clsx:tl,default:tl},Symbol.toStringTag,{value:"Module"})),ls=Gr(cE);var ir,Ee,Xo,rl,Vr=0,id=[],pi=[],nl=ee.__b,il=ee.__r,sl=ee.diffed,ol=ee.__c,al=ee.unmount;function _r(t,e){ee.__h&&ee.__h(Ee,t,Vr||e),Vr=0;var r=Ee.__H||(Ee.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:pi}),r.__[t]}function sd(t){return Vr=1,od(cd,t)}function od(t,e,r){var n=_r(ir++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):cd(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=Ee,!Ee.u)){Ee.u=!0;var i=Ee.shouldComponentUpdate;Ee.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(h){return h.__c});if(u.every(function(h){return!h.__N}))return!i||i.call(this,s,o,a);var f=!1;return u.forEach(function(h){if(h.__N){var _=h.__[0];h.__=h.__N,h.__N=void 0,_!==h.__[0]&&(f=!0)}}),!(!f&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function uE(t,e){var r=_r(ir++,3);!ee.__s&&gc(r.__H,e)&&(r.__=t,r.i=e,Ee.__H.__h.push(r))}function ad(t,e){var r=_r(ir++,4);!ee.__s&&gc(r.__H,e)&&(r.__=t,r.i=e,Ee.__h.push(r))}function lE(t){return Vr=5,yc(function(){return{current:t}},[])}function fE(t,e,r){Vr=6,ad(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function yc(t,e){var r=_r(ir++,7);return gc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function hE(t,e){return Vr=8,yc(function(){return t},e)}function dE(t){var e=Ee.context[t.__c],r=_r(ir++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Ee)),e.props.value):t.__}function pE(t,e){ee.useDebugValue&&ee.useDebugValue(e?e(t):t)}function bE(t){var e=_r(ir++,10),r=sd();return e.__=t,Ee.componentDidCatch||(Ee.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function yE(){var t=_r(ir++,11);if(!t.__){for(var e=Ee.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function gE(){for(var t;t=id.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(bi),t.__H.__h.forEach(Ta),t.__H.__h=[]}catch(e){t.__H.__h=[],ee.__e(e,t.__v)}}ee.__b=function(t){Ee=null,nl&&nl(t)},ee.__r=function(t){il&&il(t),ir=0;var e=(Ee=t.__c).__H;e&&(Xo===Ee?(e.__h=[],Ee.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=pi,r.__N=r.i=void 0})):(e.__h.forEach(bi),e.__h.forEach(Ta),e.__h=[])),Xo=Ee},ee.diffed=function(t){sl&&sl(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(id.push(e)!==1&&rl===ee.requestAnimationFrame||((rl=ee.requestAnimationFrame)||vE)(gE)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==pi&&(r.__=r.__V),r.i=void 0,r.__V=pi})),Xo=Ee=null},ee.__c=function(t,e){e.some(function(r){try{r.__h.forEach(bi),r.__h=r.__h.filter(function(n){return!n.__||Ta(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ee.__e(n,r.__v)}}),ol&&ol(t,e)},ee.unmount=function(t){al&&al(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{bi(n)}catch(i){e=i}}),r.__H=void 0,e&&ee.__e(e,r.__v))};var cl=typeof requestAnimationFrame=="function";function vE(t){var e,r=function(){clearTimeout(n),cl&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);cl&&(e=requestAnimationFrame(r))}function bi(t){var e=Ee,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Ee=e}function Ta(t){var e=Ee;t.__c=t.__(),Ee=e}function gc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function cd(t,e){return typeof e=="function"?e(t):e}const mE=Object.freeze(Object.defineProperty({__proto__:null,useCallback:hE,useContext:dE,useDebugValue:pE,useEffect:uE,useErrorBoundary:bE,useId:yE,useImperativeHandle:fE,useLayoutEffect:ad,useMemo:yc,useReducer:od,useRef:lE,useState:sd},Symbol.toStringTag,{value:"Module"})),Zn=Gr(mE);var Mt={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.LIB_VERSION=void 0;fs.LIB_VERSION="3.6.0";var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.CloseIcon=void 0;const ul=it;function _E(t){return(0,ul.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,ul.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}hs.CloseIcon=_E;var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.QRCodeIcon=void 0;const xt=it;function wE(t){return(0,xt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,xt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,xt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,xt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,xt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,xt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,xt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,xt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,xt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,xt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}ds.QRCodeIcon=wE;var _c={};Object.defineProperty(_c,"__esModule",{value:!0});const SE=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;_c.default=SE;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.StatusDotIcon=void 0;const ll=it;function EE(t){return(0,ll.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ll.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}ps.StatusDotIcon=EE;var bs={};function ud(t){this.mode=rt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}ud.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Rt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Rt.prototype={addData:function(t){var e=new ud(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Rt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ie.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var u=a*i,f=this.modules[s][a];f&&(n.beginFill(0,100),n.moveTo(u,o),n.lineTo(u+i,o),n.lineTo(u+i,o+i),n.lineTo(u,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ie.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ie.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ie.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var u=!1;s<t.length&&(u=(t[s]>>>i&1)==1);var f=Ie.getMask(e,n,o-a);f&&(u=!u),this.modules[n][o-a]=u,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Rt.PAD0=236;Rt.PAD1=17;Rt.createData=function(t,e,r){for(var n=kt.getRSBlocks(t,e),i=new ld,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ie.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Rt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Rt.PAD1,8);return Rt.createBytes(i,n)};Rt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,f=e[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,f),s[a]=new Array(u);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=u;var _=Ie.getErrorCorrectPolynomial(f),p=new Nr(s[a],_.getLength()-1),v=p.mod(_);o[a]=new Array(_.getLength()-1);for(var h=0;h<o[a].length;h++){var w=h+v.getLength()-o[a].length;o[a][h]=w>=0?v.get(w):0}}for(var M=0,h=0;h<e.length;h++)M+=e[h].totalCount;for(var O=new Array(M),m=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(O[m++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(O[m++]=o[a][h]);return O};var rt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Zt={L:1,M:0,Q:3,H:2},Ut={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ie={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ie.getBCHDigit(e)-Ie.getBCHDigit(Ie.G15)>=0;)e^=Ie.G15<<Ie.getBCHDigit(e)-Ie.getBCHDigit(Ie.G15);return(t<<10|e)^Ie.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ie.getBCHDigit(e)-Ie.getBCHDigit(Ie.G18)>=0;)e^=Ie.G18<<Ie.getBCHDigit(e)-Ie.getBCHDigit(Ie.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ie.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Ut.PATTERN000:return(e+r)%2==0;case Ut.PATTERN001:return e%2==0;case Ut.PATTERN010:return r%3==0;case Ut.PATTERN011:return(e+r)%3==0;case Ut.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Ut.PATTERN101:return e*r%2+e*r%3==0;case Ut.PATTERN110:return(e*r%2+e*r%3)%2==0;case Ut.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Nr([1],0),r=0;r<t;r++)e=e.multiply(new Nr([1,Fe.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case rt.MODE_NUMBER:return 10;case rt.MODE_ALPHA_NUM:return 9;case rt.MODE_8BIT_BYTE:return 8;case rt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case rt.MODE_NUMBER:return 12;case rt.MODE_ALPHA_NUM:return 11;case rt.MODE_8BIT_BYTE:return 16;case rt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case rt.MODE_NUMBER:return 14;case rt.MODE_ALPHA_NUM:return 13;case rt.MODE_8BIT_BYTE:return 16;case rt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||o==t.isDark(n+a,i+u)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var f=0;t.isDark(n,i)&&f++,t.isDark(n+1,i)&&f++,t.isDark(n,i+1)&&f++,t.isDark(n+1,i+1)&&f++,(f==0||f==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var _=Math.abs(100*h/e/e-50)/5;return r+=_*10,r}},Fe={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Fe.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Fe.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var We=0;We<8;We++)Fe.EXP_TABLE[We]=1<<We;for(var We=8;We<256;We++)Fe.EXP_TABLE[We]=Fe.EXP_TABLE[We-4]^Fe.EXP_TABLE[We-5]^Fe.EXP_TABLE[We-6]^Fe.EXP_TABLE[We-8];for(var We=0;We<255;We++)Fe.LOG_TABLE[Fe.EXP_TABLE[We]]=We;function Nr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Nr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Fe.gexp(Fe.glog(this.get(r))+Fe.glog(t.get(n)));return new Nr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Fe.glog(this.get(0))-Fe.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Fe.gexp(Fe.glog(t.get(n))+e);return new Nr(r,0).mod(t)}};function kt(t,e){this.totalCount=t,this.dataCount=e}kt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];kt.getRSBlocks=function(t,e){var r=kt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],u=r[s*3+2],f=0;f<o;f++)i.push(new kt(a,u));return i};kt.getRsBlockTable=function(t,e){switch(e){case Zt.L:return kt.RS_BLOCK_TABLE[(t-1)*4+0];case Zt.M:return kt.RS_BLOCK_TABLE[(t-1)*4+1];case Zt.Q:return kt.RS_BLOCK_TABLE[(t-1)*4+2];case Zt.H:return kt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function ld(){this.buffer=[],this.length=0}ld.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ea=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function fd(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(u){switch(u){case"L":return Zt.L;case"M":return Zt.M;case"Q":return Zt.Q;case"H":return Zt.H;default:throw new Error("Unknwon error correction level: "+u)}}function n(u,f){for(var h=i(u),_=1,p=0,v=0,w=ea.length;v<=w;v++){var M=ea[v];if(!M)throw new Error("Content too long: expected "+p+" but got "+h);switch(f){case"L":p=M[0];break;case"M":p=M[1];break;case"Q":p=M[2];break;case"H":p=M[3];break;default:throw new Error("Unknwon error correction level: "+f)}if(h<=p)break;_++}if(_>ea.length)throw new Error("Content too long");return _}function i(u){var f=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return f.length+(f.length!=u?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Rt(o,a),this.qrcode.addData(s),this.qrcode.make()}fd.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,u=r.length,f=o/(u+2*e.padding),h=a/(u+2*e.padding),_=typeof e.join<"u"?!!e.join:!1,p=typeof e.swap<"u"?!!e.swap:!1,v=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,w=typeof e.predefined<"u"?!!e.predefined:!1,M=w?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+f+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",O=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,m="",S="",A=0;A<u;A++)for(var B=0;B<u;B++){var $=r[B][A];if($){var z=B*f+e.padding*f,q=A*h+e.padding*h;if(p){var V=z;z=q,q=V}if(_){var W=f+z,de=h+q;z=Number.isInteger(z)?Number(z):z.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),de=Number.isInteger(de)?Number(de):de.toFixed(2),S+="M"+z+","+q+" V"+de+" H"+W+" V"+q+" H"+z+" Z "}else w?m+=i+'<use x="'+z.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:m+=i+'<rect x="'+z.toString()+'" y="'+q.toString()+'" width="'+f+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}_&&(m=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+S+'" />');let ce="";if(this.options.image!==void 0&&this.options.image.svg){const re=o*this.options.image.width/100,oe=a*this.options.image.height/100,ue=o/2-re/2,Se=a/2-oe/2;ce+=`<svg x="${ue}" y="${Se}" width="${re}" height="${oe}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ce+=this.options.image.svg+s,ce+="</svg>"}var K="";switch(t.container){case"svg":v&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,K+=M+O+m,K+=ce,K+="</svg>";break;case"svg-viewbox":v&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,K+=M+O+m,K+=ce,K+="</svg>";break;case"g":K+='<g width="'+o+'" height="'+a+'">'+s,K+=M+O+m,K+=ce,K+="</g>";break;default:K+=(M+O+m+ce).replace(/^\s+/,"");break}return K};var xE=fd,CE=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bs,"__esModule",{value:!0});bs.QRCode=void 0;const IE=it,fl=Zn,AE=CE(xE),kE=t=>{const[e,r]=(0,fl.useState)("");return(0,fl.useEffect)(()=>{var n,i;const s=new AE.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,IE.h)("img",{src:e,alt:"QR Code"}):null};bs.QRCode=kE;var ys={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var ME=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});ys.Spinner=void 0;const ii=it,RE=ME(Sc),TE=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,ii.h)("div",{class:"-cbwsdk-spinner"},(0,ii.h)("style",null,RE.default),(0,ii.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,ii.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};ys.Spinner=TE;var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var sn=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.CoinbaseAppSteps=Mt.CoinbaseWalletSteps=Mt.ConnectItem=Mt.ConnectContent=void 0;const lt=sn(ls),Y=it,hl=Zn,OE=G,NE=fs,BE=hs,LE=sn(vc),PE=sn(mc),hd=ds,DE=sn(_c),jE=sn(wc),FE=ps,$E=bs,UE=ys,WE=sn(Ec),dl={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:PE.default,steps:pd},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:LE.default,steps:bd}},HE=t=>{switch(t){case"coinbase-app":return DE.default;case"coinbase-wallet-app":default:return jE.default}},Oa=t=>t==="light"?"#FFFFFF":"#0A0B0D";function VE(t){const{theme:e}=t,[r,n]=(0,hl.useState)("coinbase-wallet-app"),i=(0,hl.useCallback)(f=>{n(f)},[]),s=(0,OE.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=dl[r];if(!r)return null;const a=o.steps,u=r==="coinbase-app";return(0,Y.h)("div",{"data-testid":"connect-content",class:(0,lt.default)("-cbwsdk-connect-content",e)},(0,Y.h)("style",null,WE.default),(0,Y.h)("div",{class:"-cbwsdk-connect-content-header"},(0,Y.h)("h2",{class:(0,lt.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,Y.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,Y.h)(BE.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Y.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,Y.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,Y.h)("div",null,Object.entries(dl).map(([f,h])=>(0,Y.h)(dd,{key:f,title:h.title,description:h.description,icon:h.icon,selected:r===f,onClick:()=>i(f),theme:e}))),u&&(0,Y.h)("div",{class:(0,lt.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,Y.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,Y.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,Y.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,Y.h)($E.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:HE(r),width:25,height:25}}),(0,Y.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:NE.LIB_VERSION}),(0,Y.h)("input",{type:"hidden",value:s})),(0,Y.h)(a,{theme:e}),!t.isConnected&&(0,Y.h)("div",{"data-testid":"connecting-spinner",class:(0,lt.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,Y.h)(UE.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,Y.h)("p",null,"Connecting...")))))}Mt.ConnectContent=VE;function dd({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,Y.h)("div",{onClick:s,class:(0,lt.default)("-cbwsdk-connect-item",i,{selected:n})},(0,Y.h)("div",null,(0,Y.h)("img",{src:r,alt:t})),(0,Y.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,Y.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,Y.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Mt.ConnectItem=dd;function pd({theme:t}){return(0,Y.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Y.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,Y.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Y.h)("span",null,"Tap ",(0,Y.h)("strong",null,"Scan")," "),(0,Y.h)("span",{class:(0,lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Y.h)(hd.QRCodeIcon,{fill:Oa(t)})))))}Mt.CoinbaseWalletSteps=pd;function bd({theme:t}){return(0,Y.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Y.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,Y.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Y.h)("span",null,"Tap ",(0,Y.h)("strong",null,"More")),(0,Y.h)("span",{class:(0,lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Y.h)(FE.StatusDotIcon,{fill:Oa(t)})),(0,Y.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,Y.h)("strong",null,"Scan")),(0,Y.h)("span",{class:(0,lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Y.h)(hd.QRCodeIcon,{fill:Oa(t)})))))}Mt.CoinbaseAppSteps=bd;var gs={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.ArrowLeftIcon=void 0;const pl=it;function zE(t){return(0,pl.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,pl.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}vs.ArrowLeftIcon=zE;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.LaptopIcon=void 0;const ta=it;function qE(t){return(0,ta.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,ta.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,ta.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ms.LaptopIcon=qE;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.SafeIcon=void 0;const bl=it;function GE(t){return(0,bl.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,bl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}_s.SafeIcon=GE;var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var yd=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});gs.TryExtensionContent=void 0;const sr=yd(ls),Ne=it,ra=Zn,QE=vs,ZE=ms,YE=_s,KE=yd(xc);function JE({theme:t}){const[e,r]=(0,ra.useState)(!1),n=(0,ra.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,ra.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Ne.h)("div",{class:(0,sr.default)("-cbwsdk-try-extension",t)},(0,Ne.h)("style",null,KE.default),(0,Ne.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ne.h)("h3",{class:(0,sr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Ne.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Ne.h)("button",{class:(0,sr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Ne.h)("div",null,!e&&(0,Ne.h)(QE.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Ne.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ne.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Ne.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ne.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ne.h)("span",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ne.h)(ZE.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ne.h)("div",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Ne.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ne.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ne.h)("span",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ne.h)(YE.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ne.h)("div",{class:(0,sr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}gs.TryExtensionContent=JE;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var gd=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});us.ConnectDialog=void 0;const na=gd(ls),or=it,ia=Zn,XE=Mt,e4=gs,t4=gd(Cc),r4=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,ia.useState)(!e),[s,o]=(0,ia.useState)(!e);(0,ia.useEffect)(()=>{const u=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,or.h)("div",{class:(0,na.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,or.h)("style",null,t4.default),(0,or.h)("div",{class:(0,na.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,or.h)("div",{class:"-cbwsdk-connect-dialog"},(0,or.h)("div",{class:(0,na.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,or.h)(XE.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,or.h)(e4.TryExtensionContent,{theme:a}))))};us.ConnectDialog=r4;Object.defineProperty(cs,"__esModule",{value:!0});cs.LinkFlow=void 0;const sa=it,yl=en,n4=us;class i4{constructor(e){this.extensionUI$=new yl.BehaviorSubject({}),this.subscriptions=new yl.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,sa.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,sa.render)((0,sa.h)(n4.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}cs.LinkFlow=i4;var vd={},Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=ne&&ne.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(ls),n=it,i=Zn,s=e(Ic),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(_){switch(_){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class u{constructor(p){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=p.darkMode}attach(p){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",p.appendChild(this.root),this.render()}presentItem(p){const v=this.nextItemKey++;return this.items.set(v,p),this.render(),()=>{this.items.delete(v),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([p,v])=>(0,n.h)(t.SnackbarInstance,Object.assign({},v,{key:p}))))),this.root)}}t.Snackbar=u;const f=_=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},_.children));t.SnackbarContainer=f;const h=({autoExpand:_,message:p,menuItems:v,appSrc:w})=>{const[M,O]=(0,i.useState)(!0),[m,S]=(0,i.useState)(_!=null?_:!1);(0,i.useEffect)(()=>{const B=[window.setTimeout(()=>{O(!1)},1),window.setTimeout(()=>{S(!0)},1e4)];return()=>{B.forEach(window.clearTimeout)}});const A=()=>{S(!m)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",M&&"-cbwsdk-snackbar-instance-hidden",m&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:A},(0,n.h)("img",{src:a(w),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},p),(0,n.h)("div",{class:"-gear-container"},!m&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),v&&v.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},v.map((B,$)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",B.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:B.onClick,key:$},(0,n.h)("svg",{width:B.svgWidth,height:B.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":B.defaultFillRule,"clip-rule":B.defaultClipRule,d:B.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",B.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},B.info)))))};t.SnackbarInstance=h})(vd);var ws={},Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var s4=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ws,"__esModule",{value:!0});ws.injectCssReset=void 0;const o4=s4(Ac);function a4(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(o4.default)),document.documentElement.appendChild(t)}ws.injectCssReset=a4;Object.defineProperty(as,"__esModule",{value:!0});as.WalletSDKUI=void 0;const c4=cs,u4=vd,l4=ws;class f4{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new u4.Snackbar({darkMode:e.darkMode}),this.linkFlow=new c4.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,l4.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}as.WalletSDKUI=f4;var Ss={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});var kr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(kr||(kr={}));function md(t,e,r){if(!r||typeof r.value!==kr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:kr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:kr.boolTrue,writable:kr.boolTrue}),n}}}Es.bind=md;Es.default=md;var xs={},ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.ClientMessagePublishEvent=ut.ClientMessageSetSessionConfig=ut.ClientMessageGetSessionConfig=ut.ClientMessageIsLinked=ut.ClientMessageHostSession=void 0;function h4(t){return Object.assign({type:"HostSession"},t)}ut.ClientMessageHostSession=h4;function d4(t){return Object.assign({type:"IsLinked"},t)}ut.ClientMessageIsLinked=d4;function p4(t){return Object.assign({type:"GetSessionConfig"},t)}ut.ClientMessageGetSessionConfig=p4;function b4(t){return Object.assign({type:"SetSessionConfig"},t)}ut.ClientMessageSetSessionConfig=b4;function y4(t){return Object.assign({type:"PublishEvent"},t)}ut.ClientMessagePublishEvent=y4;var _d={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=en,r=Ui;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(u){o.error(u);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=u=>{this.clearWebSocket(),o.error(new Error(`websocket error ${u.code}: ${u.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=u=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=u=>{this.incomingDataSubject.next(u.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(_d);var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.isServerMessageFail=void 0;function g4(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Cs.isServerMessageFail=g4;Object.defineProperty(xs,"__esModule",{value:!0});xs.WalletSDKConnection=void 0;const bt=en,fe=Ui,un=Yr,Er=$n,ln=ut,fn=Zr,si=_d,oa=Cs,gl=1e4,v4=6e4;class m4{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new bt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Er.IntNumber)(1),this.connectedSubject=new bt.BehaviorSubject(!1),this.linkedSubject=new bt.BehaviorSubject(!1),this.sessionConfigSubject=new bt.ReplaySubject(1);const o=new si.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,fe.tap)(a=>{var u;return(u=this.diagnostic)===null||u===void 0?void 0:u.log(fn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:un.Session.hash(e)})}),(0,fe.skip)(1),(0,fe.filter)(a=>a===si.ConnectionState.DISCONNECTED&&!this.destroyed),(0,fe.delay)(5e3),(0,fe.filter)(a=>!this.destroyed),(0,fe.flatMap)(a=>o.connect()),(0,fe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(2),(0,fe.switchMap)(a=>(0,bt.iif)(()=>a===si.ConnectionState.CONNECTED,this.authenticate().pipe((0,fe.tap)(u=>this.sendIsLinked()),(0,fe.tap)(u=>this.sendGetSessionConfig()),(0,fe.map)(u=>!0)),(0,bt.of)(!1))),(0,fe.distinctUntilChanged)(),(0,fe.catchError)(a=>(0,bt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(1),(0,fe.switchMap)(a=>(0,bt.iif)(()=>a===si.ConnectionState.CONNECTED,(0,bt.timer)(0,gl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,fe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var u;const f=a;(u=this.diagnostic)===null||u===void 0||u.log(fn.EVENTS.LINKED,{sessionIdHash:un.Session.hash(e),linked:f.linked,type:a.type,onlineGuests:f.onlineGuests}),this.linkedSubject.next(f.linked||f.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var u;const f=a;(u=this.diagnostic)===null||u===void 0||u.log(fn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:un.Session.hash(e),metadata_keys:f&&f.metadata?Object.keys(f.metadata):void 0}),this.sessionConfigSubject.next({webhookId:f.webhookId,webhookUrl:f.webhookUrl,metadata:f.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(fn.EVENTS.STARTED_CONNECTING,{sessionIdHash:un.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(fn.EVENTS.DISCONNECTED,{sessionIdHash:un.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,fe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,fe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,ln.ClientMessageSetSessionConfig)({id:(0,Er.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,fe.flatMap)(i=>this.makeRequest(n)),(0,fe.map)(i=>{if((0,oa.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,ln.ClientMessagePublishEvent)({id:(0,Er.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,fe.flatMap)(s=>this.makeRequest(i)),(0,fe.map)(s=>{if((0,oa.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>gl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=v4){const n=e.id;try{this.sendData(e)}catch(i){return(0,bt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,fe.timeoutWith)(r,(0,bt.throwError)(new Error(`request ${n} timed out`))),(0,fe.filter)(i=>i.id===n),(0,fe.take)(1))}authenticate(){const e=(0,ln.ClientMessageHostSession)({id:(0,Er.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,fe.map)(r=>{if((0,oa.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,ln.ClientMessageIsLinked)({id:(0,Er.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,ln.ClientMessageGetSessionConfig)({id:(0,Er.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}xs.WalletSDKConnection=m4;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.WalletUIError=void 0;class kn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}Is.WalletUIError=kn;kn.UserRejectedRequest=new kn("User rejected request");kn.SwitchEthereumChainUnsupportedChainId=new kn("Unsupported chainId",4902);var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.decrypt=zr.encrypt=void 0;const _4=en,Ti=G;async function w4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Ti.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),u=s.slice(0,s.byteLength-o),f=new Uint8Array(a),h=new Uint8Array(u),_=new Uint8Array([...r,...f,...h]);return(0,Ti.uint8ArrayToHex)(_)}zr.encrypt=w4;function S4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new _4.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,Ti.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,Ti.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),u=new Uint8Array([...a,...o]),f={name:"AES-GCM",iv:new Uint8Array(s)};try{const h=await window.crypto.subtle.decrypt(f,n,u),_=new TextDecoder;r.next(_.decode(h)),r.complete()}catch(h){r.error(h)}})()})}zr.decrypt=S4;var kc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(kc);var As={},ks={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(ks);Object.defineProperty(As,"__esModule",{value:!0});As.Web3RequestCanceledMessage=void 0;const E4=ks;function x4(t){return{type:E4.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}As.Web3RequestCanceledMessage=x4;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.Web3RequestMessage=void 0;const C4=ks;function I4(t){return Object.assign({type:C4.RelayMessageType.WEB3_REQUEST},t)}Ms.Web3RequestMessage=I4;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.EthereumAddressFromSignedMessageResponse=Ce.SubmitEthereumTransactionResponse=Ce.SignEthereumTransactionResponse=Ce.SignEthereumMessageResponse=Ce.isRequestEthereumAccountsResponse=Ce.SelectProviderResponse=Ce.WatchAssetReponse=Ce.RequestEthereumAccountsResponse=Ce.SwitchEthereumChainResponse=Ce.AddEthereumChainResponse=Ce.ErrorResponse=void 0;const Ot=kc;function A4(t,e,r){return{method:t,errorMessage:e,errorCode:r}}Ce.ErrorResponse=A4;function k4(t){return{method:Ot.Web3Method.addEthereumChain,result:t}}Ce.AddEthereumChainResponse=k4;function M4(t){return{method:Ot.Web3Method.switchEthereumChain,result:t}}Ce.SwitchEthereumChainResponse=M4;function R4(t){return{method:Ot.Web3Method.requestEthereumAccounts,result:t}}Ce.RequestEthereumAccountsResponse=R4;function T4(t){return{method:Ot.Web3Method.watchAsset,result:t}}Ce.WatchAssetReponse=T4;function O4(t){return{method:Ot.Web3Method.selectProvider,result:t}}Ce.SelectProviderResponse=O4;function N4(t){return t&&t.method===Ot.Web3Method.requestEthereumAccounts}Ce.isRequestEthereumAccountsResponse=N4;function B4(t){return{method:Ot.Web3Method.signEthereumMessage,result:t}}Ce.SignEthereumMessageResponse=B4;function L4(t){return{method:Ot.Web3Method.signEthereumTransaction,result:t}}Ce.SignEthereumTransactionResponse=L4;function P4(t){return{method:Ot.Web3Method.submitEthereumTransaction,result:t}}Ce.SubmitEthereumTransactionResponse=P4;function D4(t){return{method:Ot.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ce.EthereumAddressFromSignedMessageResponse=D4;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.isWeb3ResponseMessage=qr.Web3ResponseMessage=void 0;const wd=ks;function j4(t){return Object.assign({type:wd.RelayMessageType.WEB3_RESPONSE},t)}qr.Web3ResponseMessage=j4;function F4(t){return t&&t.type===wd.RelayMessageType.WEB3_RESPONSE}qr.isWeb3ResponseMessage=F4;var $4=ne&&ne.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U4=ne&&ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sd=ne&&ne.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},W4=ne&&ne.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$4(e,t,r);return U4(e,t),e},H4=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.WalletSDKRelay=void 0;const Ed=H4(Es),vl=Pi,hn=en,Be=Ui,Ge=Zr,V4=xs,aa=Is,z4=$n,xe=G,Wt=W4(zr),Ht=Yr,oi=vt,De=kc,q4=As,G4=Ms,tt=Ce,Ye=qr;class gt extends oi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new hn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new hn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ht.Session.load(this.storage)||new Ht.Session(this.storage).save(),r=new V4.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Be.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Be.skip)(1),(0,Be.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(oi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const f=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Ge.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:f})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Be.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Be.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Be.mergeMap)(i=>Wt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(oi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Be.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Be.mergeMap)(i=>Wt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(oi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Be.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Be.mergeMap)(i=>(0,hn.zip)(Wt.decrypt(i.metadata.ChainId,e.secret),Wt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Be.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Be.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Be.mergeMap)(i=>Wt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),gt.accountRequestCallbackIds.size>0&&(Array.from(gt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Ye.Web3ResponseMessage)({id:s,response:(0,tt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),gt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Be.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Be.mergeMap)(i=>Wt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Be.timeout)(1e3),(0,Be.catchError)(e=>(0,hn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Ge.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ht.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ht.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:u,connection:f}=this.subscribe();this._session=a,this.connection=f,this.ui=u,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ge.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:De.Web3Method.signEthereumMessage,params:{message:(0,xe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:De.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,xe.hexStringFromBuffer)(e,!0),signature:(0,xe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:De.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,xe.bigIntStringFromBN)(e.weiValue),data:(0,xe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,xe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:De.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,xe.bigIntStringFromBN)(e.weiValue),data:(0,xe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,xe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,xe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,xe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:De.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,xe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:De.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,xe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:De.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,xe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,u=>{if(r==null||r(),u.errorMessage)return a(new Error(u.errorMessage));o(u)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,G4.Web3RequestMessage)({id:e,request:r}),s=Ht.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Ge.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ht.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ge.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ht.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,q4.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new hn.Observable(s=>{Wt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Be.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Wt.decrypt(e.data,this.session.secret).pipe((0,Be.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Ye.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Ge.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,tt.isRequestEthereumAccountsResponse)(n)){gt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),gt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:e,response:(0,tt.ErrorResponse)(r,(n!=null?n:aa.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:De.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,xe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,f=>{if(this.ui.hideRequestEthereumAccounts(),f.errorMessage)return o(new Error(f.errorMessage));s(f)});const u=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(u&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)){let f;try{(0,xe.isInIFrame)()&&window.top?f=window.top.location:f=window.location}catch{f=window.location}f.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(f.href)}`;return}if(this.ui.inlineAccountsResponse()){const f=h=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:r,response:(0,tt.RequestEthereumAccountsResponse)(h)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:f})}else{const f=vl.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(f)})}gt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:De.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,xe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if(h.errorMessage)return a(new Error(h.errorMessage));o(h)});const u=h=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:n,response:(0,tt.SelectProviderResponse)(z4.ProviderType.Unselected)}))},f=h=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:n,response:(0,tt.SelectProviderResponse)(h)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:f,onCancel:u,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:De.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let u=null;const f=(0,xe.randomBytesHex)(8),h=p=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,p),u==null||u()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const _=new Promise((p,v)=>{this.relayEventManager.callbacks.set(f,O=>{if(u==null||u(),O.errorMessage)return v(new Error(O.errorMessage));p(O)});const w=O=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:f,response:(0,tt.WatchAssetReponse)(!1)}))},M=()=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:f,response:(0,tt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:M,onCancel:w,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)});return{cancel:h,promise:_}}addEthereumChain(e,r,n,i,s,o){const a={method:De.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let u=null;const f=(0,xe.randomBytesHex)(8),h=p=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,p),u==null||u()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((p,v)=>{this.relayEventManager.callbacks.set(f,O=>{if(u==null||u(),O.errorMessage)return v(new Error(O.errorMessage));p(O)});const w=O=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:f,response:(0,tt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},M=O=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:f,response:(0,tt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:O})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:w,onApprove:M,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:De.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,xe.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,_=>{if(_.errorMessage&&_.errorCode)return u(vl.ethErrors.provider.custom({code:_.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(_.errorMessage)return u(new Error(_.errorMessage));a(_)});const f=_=>{if(typeof _=="number"){const p=_;this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:i,response:(0,tt.ErrorResponse)(De.Web3Method.switchEthereumChain,aa.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,p)}))}else _ instanceof aa.WalletUIError?this.handleErrorResponse(i,De.Web3Method.switchEthereumChain,_,_.errorCode):this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:i,response:(0,tt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},h=_=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:i,response:(0,tt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:_})}))};this.ui.switchEthereumChain({onCancel:f,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ht.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ye.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case De.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case De.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case De.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case De.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}gt.accountRequestCallbackIds=new Set;Sd([Ed.default],gt.prototype,"resetAndReload",null);Sd([Ed.default],gt.prototype,"handleIncomingEvent",null);Ss.WalletSDKRelay=gt;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.WalletSDKRelayEventManager=void 0;const Q4=G;class Z4{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,Q4.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Rs.WalletSDKRelayEventManager=Z4;const Y4="@coinbase/wallet-sdk",K4="3.6.0",J4="Coinbase Wallet JavaScript SDK",X4=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],e3="dist/index.js",t3="dist/index.d.ts",r3="https://github.com/coinbase/coinbase-wallet-sdk.git",n3="Coinbase, Inc.",i3="Apache-2.0",s3={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},o3={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},a3={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},c3={node:">= 10.0.0"},u3={name:Y4,version:K4,description:J4,keywords:X4,main:e3,types:t3,repository:r3,author:n3,license:i3,scripts:s3,dependencies:o3,devDependencies:a3,engines:c3};Object.defineProperty(wn,"__esModule",{value:!0});wn.CoinbaseWalletSDK=void 0;const l3=Bi,f3=Li,h3=Br,d3=as,p3=Ss,b3=Rs,y3=G,g3=process.env.LINK_API_URL||"https://www.walletlink.org",xd=process.env.SDK_VERSION||u3.version||"unknown";class Ts{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||g3;let o;if(e.uiConstructor?o=e.uiConstructor:o=f=>new d3.WalletSDKUI(f),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),u=`${a.protocol}//${a.host}`;this._storage=new f3.ScopedLocalStorage(`-walletlink:${u}`),this._storage.setItem("version",Ts.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new b3.WalletSDKRelayEventManager,this._relay=new p3.WalletSDKRelay({linkAPIUrl:s,version:xd,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new h3.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,y3.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,l3.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}wn.CoinbaseWalletSDK=Ts;Ts.VERSION=xd;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=wn,r=Br;var n=wn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Br;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Ba);const v3=Id(Ba),E3=Md({__proto__:null,default:v3},[Ba]);export{E3 as i};
